(function(t){function e(e){for(var a,o,r=e[0],c=e[1],l=e[2],d=0,m=[];d<r.length;d++)o=r[d],n[o]&&m.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,r=1;r<s.length;r++){var c=s[r];0!==n[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},n={app:0},i=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},1323:function(t,e,s){},"143e":function(t,e,s){},"1cf3":function(t,e,s){"use strict";var a=s("35cd"),n=s.n(a);n.a},"23a4":function(t,e,s){},"268b":function(t,e,s){},"2aab":function(t,e,s){"use strict";var a=s("a176"),n=s.n(a);n.a},"2dd7":function(t,e,s){},"33b5":function(t,e,s){},"35cd":function(t,e,s){},"37ac":function(t,e,s){},3927:function(t,e,s){},3979:function(t,e,s){},"3c04":function(t,e,s){},"3c13":function(t,e,s){"use strict";var a=s("7166"),n=s.n(a);n.a},"3e3b":function(t,e,s){"use strict";var a=s("fcec"),n=s.n(a);n.a},"45ce":function(t,e,s){"use strict";var a=s("ba6b"),n=s.n(a);n.a},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=i(t);return s(e)}function i(t){var e=a[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}n.keys=function(){return Object.keys(a)},n.resolve=i,t.exports=n,n.id="4678"},"4a20":function(t,e,s){"use strict";var a=s("c220"),n=s.n(a);n.a},5681:function(t,e,s){"use strict";var a=s("a5f9"),n=s.n(a);n.a},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("c-navbar",{scopedSlots:t._u([{key:"active",fn:function(){return[s("router-link",{staticClass:"link title colour-on-focus colour-bg colour-fill-bg-inv",attrs:{to:"/logout"}},[t._v("\n\t\t\t\t\tLogout\n\t\t\t")]),s("router-link",{staticClass:"link title colour-on-focus colour-bg colour-fill-bg-inv",attrs:{to:"/account"}},[t._v("\n\t\t\t\t\tAccount\n\t\t\t")]),s("router-link",{staticClass:"link title user colour-on-focus colour-bg colour-fill-bg-inv",attrs:{to:"/admin/request"}},[t._v("\n\t\t\t\t\tAdminRequest\n\t\t\t")]),s("router-link",{staticClass:"link title admin colour-on-focus colour-bg colour-fill-bg-inv",attrs:{to:"/admin"}},[t._v("\n\t\t\t\t\tAdminBoard\n\t\t\t")])]},proxy:!0},{key:"none-active",fn:function(){return[s("router-link",{staticClass:"link title colour-on-focus colour-bg colour-fill-bg-inv",attrs:{to:"/login"}},[t._v("\n\t\t\t\t\tLogin\n\t\t\t")])]},proxy:!0}])},[[s("router-link",{staticClass:"link title colour-on-focus colour-bg colour-fill-bg-inv",attrs:{to:"/"}},[t._v("\n\t\t\t\t\tHome\n\t\t\t")])],s("router-link",{staticClass:"link title colour-on-focus colour-bg colour-fill-bg-inv",attrs:{to:"/board/create"}},[t._v("\n\t\t\t\tCreate\n\t\t")])],2),s("div",{staticClass:"body-nav-spacer"}),s("router-view"),s("div",{staticClass:"body-nav-spacer"}),s("c-footer")],1)},i=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{class:{"is-active":t.is_open},attrs:{id:"navbar","data-open":t.is_open}},[s("div",{staticClass:"bar colour-bg-inv"}),s("div",{staticClass:"toggle hover-scale colour-bg ",class:t.is_open?"cross":"bars",attrs:{tabindex:"1"},on:{click:t.on_click}},[s("span",{staticClass:"span-1 colour-bg-inv"}),s("span",{staticClass:"span-2 colour-bg-inv"}),s("span",{staticClass:"span-3 colour-bg-inv"})]),s("div",{staticClass:"content colour-bg-inv",class:{"is-admin":t.is_admin,"is-user":t.is_user},on:{click:t.on_click}},[t._t("default"),t.is_active?t._t("active",[t._v("\n\t\t\t\n\t\t\t"+t._s(t.user)+"\n\n\t\t")]):t._t("none-active",[t._v("\n\t\t\t\n\t\t\tnone active\n\t\t\t\n\t\t")])],2),s("div",{staticClass:"shade colour-bg-shade",on:{click:t.on_click}})])},r=[],c={name:"Navbar",data:function(){return{is_open:!1}},computed:{is_active:function(){return this.$store.getters["user/get_active"]},user:function(){return this.$store.getters["user/get_user"]},is_user:function(){return"user"===this.user.role},is_admin:function(){return"admin"===this.user.role}},methods:{on_click:function(){this.is_open=!this.is_open}},components:{}},l=c,u=(s("d955"),s("ba83"),s("2877")),d=Object(u["a"])(l,o,r,!1,null,"50bf0e8a",null),m=d.exports,f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"parent"},[s("footer",{ref:"footer",staticClass:"app-footer anim-6"},[s("div",{staticClass:"center-auto-h text-center"},[s("div",{staticClass:"footer-content"},[s("p",{staticClass:"colour-fill-bg-inv text "},[t._v("Made with \n\n\t\t\t\t\t"),s("span",[s("svg",{staticClass:"icon",attrs:{viewBox:"0 0 907 828",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{attrs:{d:"M730.084,312.85c4.226,113.133 -40.828,236.381 -79.883,320.702c-29.137,63.033 -92.165,103.467 -161.607,103.675c-58.148,0.184 -129.832,0.398 -188.066,0.573c-68.886,0.206 -131.752,-39.215 -161.569,-101.314c-43.597,-90.793 -96.522,-224.663 -88.059,-325.713"}}),s("path",{attrs:{d:"M710,410.13l137.329,0c0,0 27.947,188.444 -226.001,233.406"}})])]),t._v("\n\t\t\t\t\tby \n\n\t\t\t\t\t"),s("a",{staticClass:"colour-fill-accent",attrs:{target:"_blank",href:"https://github.com/k-flynn-webdev"}},[t._v(" k-flynn-webdev ")])])])]),s("p",{staticClass:"colour-fill-bg-inv text app-version"},[t._v("\n\t\t\tv: "+t._s(t.version)+"\n\t\t")])])])},h=[],p={name:"cFooter",data:function(){return{version:""}},methods:{get_version:function(){this.version="0.7.6"}},mounted:function(){this.get_version(),document.body.appendChild(this.$refs.footer)},beforeDestroy:function(){document.body.removeChild(this.$refs.footer),this.$refs.parent.appendChild(this.$refs.footer)}},g=p,_=(s("b935"),Object(u["a"])(g,f,h,!1,null,"4a22c87e",null)),v=_.exports;s("23a4"),s("143e"),s("ff4e"),s("a093"),s("bde0");var b={name:"App",created:function(){this.$store.dispatch("user/init",this.$request.get_SecureKeyFile)},computed:{},methods:{},components:{"c-navbar":m,"c-footer":v}},w=b,y=Object(u["a"])(w,n,i,!1,null,null,null),$=y.exports,x=s("bd86"),C=s("8c4f"),j=s("2f62");s("7f7f"),s("28a5");function k(t){if(!1===t||"false"===t)return!1;var e={},s=[];return s=t.split("."),e.raw=t,e.payload=JSON.parse(window.atob(s[1])),e.payload}function S(){var t=window.localStorage.getItem("tokenStringKube");return null===t?"":t}function O(t){window.localStorage.setItem("tokenStringKube",t)}function E(){window.localStorage.removeItem("tokenStringKube")}var T={namespaced:!0,state:{requestObj:Function,session:{active:Boolean,user:{id:String,name:String,email:String,role:String},token:"token"}},getters:{get_active:function(t){return t.session.active},get_user:function(t){return t.session.user},get_token:function(t){return t.session.token}},mutations:{requestObj:function(t,e){t.requestObj=e},active:function(t,e){t.session.active=e},user:function(t,e){t.session.user.id=e.id,t.session.user.name=e.name,t.session.user.email=e.email,t.session.user.role=e.role},token:function(t,e){t.session.token=e,O(e),t.requestObj()}},actions:{init:function(t,e){t.commit("requestObj",e);var s=S();s.length<5?t.dispatch("logout_success"):t.dispatch("login_success",s)},login_success:function(t,e){var s=k(e);t.commit("active",!0),t.commit("user",s),t.commit("token",e)},logout_success:function(t){var e={id:"",name:"",email:"",role:""};t.commit("active",!1),t.commit("user",e),t.commit("token",""),E()}}};function P(t,e){var s=-1;if(void 0===e.id){var a={word:e,id:D(e)};e=a}for(var n=0;n<t.length;n++)if(t[n].id===e.id)return n;return s}var D=function(t){var e=0;if(0==t.length)return e;for(var s=0;s<t.length;s++){var a=t.charCodeAt(s);e=(e<<5)-e+a,e&=e}return e},N=function(t){return t.game.board&&t.game.instance&&t.game.words&&t.game.joined&&t.game.mode===q[0]&&t.game.result===B[0]?(t.game.mode=q[1],!0):(t.game.mode=q[0],!1)},q=["","playing"],B=["","won","lost"],R={namespaced:!0,state:{words:[],game:{board:!1,instance:!1,words:!1,joined:!1,mode:q[0],result:B[0],winner:{url:"",data:{score:0,name:""}},poll:0}},getters:{get_words:function(t){return t.words},get_game:function(t){return t.game},get_winner:function(t){return t.game.winner},get_poll:function(t){return t.game.poll}},mutations:{words:function(t,e){t.words=e,e.length>0&&(t.game.words=!0)},word_submit:function(t,e){var s=P(t.words,e);t.words[s].waiting=!0},word_add:function(t,e){var s=P(t.words,e);t.words[s].selected=!0,t.words[s].waiting=!1},word_remove:function(t,e){var s=P(t.words,e);t.words[s].selected=!1,t.words[s].waiting=!1},game:function(t,e){void 0!==e.board&&(t.game.board=e.board),void 0!==e.instance&&(t.game.instance=e.instance),void 0!==e.joined&&(t.game.joined=e.joined);t.game.mode;if(t.game.mode!==q[1])N(t);void 0!==e.result&&""!==e.result&&(t.game.mode=q[0],t.game.result=e.result,void 0!==e.winner&&(t.game.winner.url=e.winner.url,t.game.winner.data.name=e.winner.data.name,t.game.winner.data.score=e.winner.data.score))},poll:function(t,e){t.game.poll=e.poll}},actions:{set_words:function(t,e){t.commit("words",e)},submit_word:function(t,e){t.commit("word_submit",e)},add_word:function(t,e){t.commit("word_add",e)},remove_word:function(t,e){t.commit("word_remove",e)},set_game:function(t,e){t.commit("game",e)},poll:function(t){t.getters.get_poll;t.commit("poll")},reset:function(t){t.commit("words",[]),t.commit("game",A)},exit:function(t){t.commit("words",[]),t.commit("game",A)}}},A={board:!1,instance:!1,words:!1,joined:!1,mode:q[0],result:B[0],winner:{url:"",data:{score:0,name:""}},poll:0},L={namespaced:!0,state:{action:{url:"",method:"GET",JSON:!1},url:"",data:{name:"",words:[]}},getters:{get_action:function(t){return t.action.url},get_board:function(t){return t},get_words:function(t){return t.data.words}},mutations:{action:function(t,e){t.action.url=e},board:function(t,e){void 0!==e.url&&(t.url=e.url),void 0!==e.data&&(t.data.name=e.data.name,t.data.words=e.data.words)}},actions:{set_action:function(t,e){t.commit("action",e)},set_board:function(t,e){t.commit("board",e)},exit:function(t){t.commit("board",I)}}},I={url:"",data:{name:"",words:[]}},z={namespaced:!0,state:{action:{url:"",method:"GET",JSON:!0},url:"",data:{players:[],game:{win:0,display:0,winner:""}}},getters:{get_action:function(t){return t.action},get_instance:function(t){return t},get_players:function(t){return t.data.players},get_win:function(t){return t.data.game.win},get_display:function(t){return t.data.game.display}},mutations:{action:function(t,e){t.action.url=e},instance:function(t,e){void 0!==e.url&&(t.url=e.url),void 0!==e.data&&(t.data.players=e.data.players,t.data.game.win=e.data.game.win,t.data.game.display=e.data.game.display,t.data.game.winner=e.data.game.winner)},players:function(t,e){void 0!==e.data&&void 0!==e.data.players&&(t.data.players=e.data.players)}},actions:{set_action:function(t,e){t.commit("action",e)},set_instance:function(t,e){t.commit("instance",e)},set_players:function(t,e){t.commit("players",e)},exit:function(t){J.url="",t.commit("instance",J)}}},J={url:"",data:{game:{win:0,display:0,winner:""},players:[]}},M={namespaced:!0,state:{player:{url:"",data:{name:"",score:0}}},getters:{get_player:function(t){return t.player},get_url:function(t){return t.player.url},get_name:function(t){return t.player.data.name},get_score:function(t){return t.player.data.score}},mutations:{player:function(t,e){void 0!==e.url&&(t.player.url=e.url),void 0!==e.data&&(void 0!==e.data.name&&(t.player.data.name=e.data.name,U.data.name=e.data.name),void 0!==e.data.score&&(t.player.data.score=e.data.score))}},actions:{set_player:function(t,e){t.commit("player",e)},reset:function(t){t.commit("player",U)},exit:function(t){t.commit("player",U)}}},U={url:"",data:{name:"",score:0}};a["a"].use(j["a"]);var G=new j["a"].Store({state:{},mutations:{},getters:{},actions:{},modules:{user:T,game:R,board:L,instance:z,player:M}}),F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-panel",[s("template",{slot:"header"},[t._v("\n\t\tBullshit Bingo\n\t")]),s("c-front-latest"),s("c-front-popular"),s("c-front-wins-plays"),s("c-front-players"),s("c-front-games"),s("template",{slot:"footer"})],2)},K=[],W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"colour-fill-bg-inv"},[s("p",{staticClass:"title"},[t._v("Latest Boards")]),t._l(t.boards,function(e,a){return s("a",{key:e.url,attrs:{href:t.get_url(e)}},[s("p",{staticClass:"text link"},[t._v(" \n\t\t\t"+t._s(e.data.name)+" : "+t._s(e.data.stats.plays)+"\n\t\t")])])}),s("br")],2)},H=[],Y={methods:{onSubmit:function(t,e,s,a,n,i){var o=null!==a&&void 0!==a,r=null!==s&&void 0!==s;r&&s.$emit("state","waiting"),e.$request.request_url(t,function(t,e){return r&&s.$emit("state","reset"),t?(r&&s.$emit("state","error"),o&&a.$emit("message",{class:"error text-negative",message:t.message}),i(t)):(r&&s.$emit("state","success"),o&&a.$emit("message",{class:"success text-positive",message:e.message}),n(e))})}}},X={name:"cFrontLatest",mixins:[Y],data:function(){return{attrs:{max_timeouts:5,action:Object,timing:5e3},state:{init:0,timeouts:0},boards:[]}},methods:{get_url:function(t){return"/board/"+t.url},init:function(){var t={url:"/meta/board/latest",method:"GET",JSON:!1,body:""};this.attrs.action=t,this.latest_submit()},latest_submit:function(){this.onSubmit(this.attrs.action,this,null,null,this.latest_success,this.latest_error)},latest_success:function(t){console.log(t),this.boards=t.data},latest_error:function(t){if(this.state.timeouts<this.attrs.max_timeouts){var e=this;setTimeout(function(){console.log("retrying connection."),e.state.timeouts+=1,e.latest_submit()},e.attrs.timing)}}},mounted:function(){this.init()},beforeDestroy:function(){},components:{}},Z=X,Q=Object(u["a"])(Z,W,H,!1,null,null,null),V=Q.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"colour-fill-bg-inv"},[s("p",{staticClass:"title"},[t._v("Popular Boards")]),t._l(t.boards,function(e,a){return s("a",{key:e.url,attrs:{href:t.get_url(e)}},[s("p",{staticClass:"text link"},[t._v(" \n\t\t\t"+t._s(e.data.name)+" : "+t._s(e.data.stats.plays)+"\n\t\t")])])}),s("br")],2)},et=[],st={name:"cFrontPopular",mixins:[Y],data:function(){return{attrs:{max_timeouts:5,action:Object,timing:5e3},state:{init:0,timeouts:0},boards:[]}},methods:{get_url:function(t){return"/board/"+t.url},init:function(){var t={url:"/meta/board/popular",method:"GET",JSON:!1,body:""};this.attrs.action=t,this.latest_submit()},latest_submit:function(){this.onSubmit(this.attrs.action,this,null,null,this.latest_success,this.latest_error)},latest_success:function(t){console.log(t),this.boards=t.data},latest_error:function(t){if(this.state.timeouts<this.attrs.max_timeouts){var e=this;setTimeout(function(){console.log("retrying connection."),e.state.timeouts+=1,e.latest_submit()},e.attrs.timing)}}},mounted:function(){this.init()},beforeDestroy:function(){},components:{}},at=st,nt=Object(u["a"])(at,tt,et,!1,null,null,null),it=nt.exports,ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"colour-fill-bg-inv"},[s("p",{staticClass:"title win "},[t._v("Wins : "+t._s(t.stats.wins))]),s("p",{staticClass:"title plays "},[t._v("Played : "+t._s(t.stats.plays))]),s("br")])},rt=[],ct={name:"cFrontWinsPlays",mixins:[Y],data:function(){return{attrs:{max_timeouts:5,action:Object,timing:5e3},state:{init:0,timeouts:0},stats:{}}},methods:{init:function(){var t={url:"/meta/board/wins_plays",method:"GET",JSON:!1,body:""};this.attrs.action=t,this.latest_submit()},latest_submit:function(){this.onSubmit(this.attrs.action,this,null,null,this.latest_success,this.latest_error)},latest_success:function(t){console.log(t),this.stats=t.data},latest_error:function(t){if(this.state.timeouts<this.attrs.max_timeouts){var e=this;setTimeout(function(){console.log("retrying connection."),e.state.timeouts+=1,e.latest_submit()},e.attrs.timing)}}},mounted:function(){this.init()},beforeDestroy:function(){},components:{}},lt=ct,ut=(s("a890"),Object(u["a"])(lt,ot,rt,!1,null,null,null)),dt=ut.exports,mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"front-fit-half colour-fill-bg-inv"},[s("p",{staticClass:"title"},[t._v("\n\t\tPlayers : "+t._s(t.stats.players))])])},ft=[],ht={name:"cFrontPlayers",mixins:[Y],data:function(){return{attrs:{max_timeouts:5,action:Object,timing:5e3},state:{init:0,timeouts:0},stats:{}}},methods:{init:function(){var t={url:"/meta/instance/players",method:"GET",JSON:!1,body:""};this.attrs.action=t,this.latest_submit()},latest_submit:function(){this.onSubmit(this.attrs.action,this,null,null,this.latest_success,this.latest_error)},latest_success:function(t){console.log(t),this.stats=t.data},latest_error:function(t){if(this.state.timeouts<this.attrs.max_timeouts){var e=this;setTimeout(function(){console.log("retrying connection."),e.state.timeouts+=1,e.latest_submit()},e.attrs.timing)}}},mounted:function(){this.init()},beforeDestroy:function(){},components:{}},pt=ht,gt=Object(u["a"])(pt,mt,ft,!1,null,null,null),_t=gt.exports,vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"front-fit-half colour-fill-bg-inv"},[s("p",{staticClass:"title"},[t._v("Games : "+t._s(t.games))]),t._l(t.stats.games,function(e){return s("p",{staticClass:"text"},[t._v("\n\t\t"+t._s(e)+"\n\t")])})],2)},bt=[],wt={name:"cFrontGames",mixins:[Y],data:function(){return{attrs:{max_timeouts:5,action:Object,timing:5e3},state:{init:0,timeouts:0},stats:{games:Array}}},computed:{games:function(){return this.stats.games.length}},methods:{init:function(){var t={url:"/meta/instance/games",method:"GET",JSON:!1,body:""};this.attrs.action=t,this.latest_submit()},latest_submit:function(){this.onSubmit(this.attrs.action,this,null,null,this.latest_success,this.latest_error)},latest_success:function(t){console.log(t),this.stats=t.data},latest_error:function(t){if(this.state.timeouts<this.attrs.max_timeouts){var e=this;setTimeout(function(){console.log("retrying connection."),e.state.timeouts+=1,e.latest_submit()},e.attrs.timing)}}},mounted:function(){this.init()},beforeDestroy:function(){},components:{}},yt=wt,$t=Object(u["a"])(yt,vt,bt,!1,null,null,null),xt=$t.exports,Ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"panel center-auto-h"},[s("header",{},[s("p",{staticClass:"header colour-fill-bg-inv text-funky custom"},[t._t("header")],2),s("div",{staticClass:"options flex-row flex-row-end width-90 center-auto-h"},[t._t("options")],2)]),s("div",{staticClass:"width-90 center-auto-h"},[s("main",{staticClass:"text"},[t._t("default")],2),t._t("no-margin"),s("footer",{staticClass:"footer"},[s("p",{staticClass:"text"},[t._t("footer")],2)])],2)])},jt=[];s("2dd7");var kt={name:"cPanel"},St=kt,Ot=Object(u["a"])(St,Ct,jt,!1,null,null,null),Et=Ot.exports,Tt={name:"home",components:{"c-panel":Et,"c-front-latest":V,"c-front-popular":it,"c-front-players":_t,"c-front-games":xt,"c-front-wins-plays":dt}},Pt=Tt,Dt=Object(u["a"])(Pt,F,K,!1,null,null,null),Nt=Dt.exports,qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-panel",[s("template",{slot:"header"},[t._v("\n\t\tAccount Register\n\t")]),s("form",{staticClass:"form",attrs:{action:"/api/account/create",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.onLogin(e)}}},[s("c-account-input",{attrs:{input:t.form}}),s("c-message",{ref:"msgSubmit",staticClass:"colour-fill-bg-inv"}),s("br"),s("c-button",{ref:"btnSubmit"},[t._v("\n\t\t\t\tRegister\n\t\t\t")])],1),s("template",{slot:"footer"},[s("p",{staticClass:"colour-fill-bg-inv"},[t._v("\n\t\t\tAlready have an account,\n\n\t\t\t"),s("router-link",{staticClass:"colour-fill-accent",attrs:{to:"/login"}},[t._v("\n\t\t\t\t\tlogin.\n\t\t\t")])],1)])],2)},Bt=[],Rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"account-input"},[t.NameShow?s("div",{ref:"field_name",staticClass:"field field-result"},[s("p",{staticClass:"text label colour-fill-bg-inv"},[t._v("\n\t\t\t\tName:\n\t\t")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.input.name.value,expression:"input.name.value"}],staticClass:"text colour-fill-bg-inv text-input",attrs:{type:"string",name:"name",pattern:t.name_pattern,title:t.name_title,placeholder:"Name",required:t.input.name.isRequired},domProps:{value:t.input.name.value},on:{change:t.validate_name,input:function(e){e.target.composing||t.$set(t.input.name,"value",e.target.value)}}}),s("c-field-result")],1):t._e(),t.EmailShow?s("div",{ref:"field_email",staticClass:"field field-result"},[s("p",{staticClass:"text label colour-fill-bg-inv"},[t._v("\n\t\t\t\tEmail:\n\t\t")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.input.email.value,expression:"input.email.value"}],staticClass:"text colour-fill-bg-inv text-input",attrs:{type:"email",name:"email",placeholder:"Email",required:t.input.email.isRequired},domProps:{value:t.input.email.value},on:{change:t.validate_email,input:function(e){e.target.composing||t.$set(t.input.email,"value",e.target.value)}}}),s("c-field-result")],1):t._e(),t.PasswordShow?s("div",{ref:"field_password",staticClass:"field field-result"},[s("p",{staticClass:"text label colour-fill-bg-inv"},[t._v("\n\t\t\t\tPassword:\n\t\t")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.input.password.value,expression:"input.password.value"}],staticClass:"text colour-fill-bg-inv text-input",attrs:{type:"password",name:"password",placeholder:"Password",pattern:t.password_pattern,title:t.password_title,required:t.input.password.isRequired},domProps:{value:t.input.password.value},on:{change:t.validate_password,input:function(e){e.target.composing||t.$set(t.input.password,"value",e.target.value)}}}),s("c-field-result")],1):t._e()])},At=[],Lt=(s("aef6"),{default_min:3,default_max:30}),It=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lt.default_min,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lt.default_max;return 0===t.length?null:!(t.length<e||t.length>s)},zt=function(t){return 0===t.length?null:!(t.indexOf("@")<0)&&!(t.indexOf(".")<0||t.endsWith("."))},Jt={length:It,email:zt},Mt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ut=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"result"},[s("div",{staticClass:"result-pass"}),s("div",{staticClass:"result-fail"})])}],Gt={name:"cFieldResult"},Ft=Gt,Kt=(s("3c13"),Object(u["a"])(Ft,Mt,Ut,!1,null,null,null)),Wt=Kt.exports,Ht={name:"AccountInput",data:function(){return{attrs:{max:30,name:3,password:7}}},props:{input:{name:Object,email:Object,password:Object,validate:Boolean}},computed:{NameShow:function(){return!(void 0===this.input.name||!this.input.name.show)},EmailShow:function(){return!(void 0===this.input.email||!this.input.email.show)},PasswordShow:function(){return!(void 0===this.input.password||!this.input.password.show)},name_pattern:function(){var t=".{"+this.attrs.name+","+this.attrs.max+"}";return t},name_title:function(){var t="name must be between "+this.attrs.password+" and "+this.attrs.max+" characters long.";return t},password_pattern:function(){var t=".{"+this.attrs.password+",}";return t},password_title:function(){var t="password must be atleast "+this.attrs.password+" characters long.";return t}},methods:{init:function(){},validate_name:function(){if(this.input.validate){var t=this.input.name.value,e=this.$refs.field_name,s=Jt.length(t,this.attrs.name,this.attrs.max);this.validate_result(s,e)}},validate_email:function(){if(this.input.validate){var t=this.input.email.value,e=this.$refs.field_email,s=Jt.email(t);this.validate_result(s,e)}},validate_password:function(){if(this.input.validate){var t=this.input.password.value,e=this.$refs.field_password,s=Jt.length(t,this.attrs.password,100);this.validate_result(s,e)}},validate_result:function(t,e){null!==t?t?t&&this.set_element_pass(e):this.set_element_fail(e):this.set_element_default(e)},set_element_default:function(t){return t.className="field field-result"},set_element_pass:function(t){return t.className="field field-result pass"},set_element_fail:function(t){return t.className="field field-result fail"}},mounted:function(){this.init()},components:{"c-field-result":Wt}},Yt=Ht,Xt=(s("2aab"),Object(u["a"])(Yt,Rt,At,!1,null,null,null)),Zt=Xt.exports,Qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"button fade-in",class:t.get_state,on:{click:t.clicked}},[s("p",{staticClass:"text colour-fill-depends label"},[t._t("default",[t._v(" \n\t\t\t \tSubmit \n\t\t\t")])],2),s("p",{staticClass:"text colour-fill-depends text-bold message anim-3"},[t._v("\n\t\t\t"+t._s(t.obj.message)+" \n\t")]),s("div",{staticClass:"anim-container",class:t.get_strobes},[s("span",{staticClass:"strobe delay-5"}),s("span",{staticClass:"strobe delay-5"}),s("span",{staticClass:"strobe delay-5"})])])},Vt=[],te={name:"cButton",data:function(){return{obj:{state:"",strobes:!1,hasMessage:!1,message:""},time:{min:2300,message:2300}}},props:{onClick:Function},computed:{get_state:function(){var t=this.obj.state;return this.obj.hasMessage&&(t+=" msg-is-active"),t},get_strobes:function(){return this.obj.strobes?"is-active":""}},methods:{init:function(){this.clear_state(),this.message_reset()},clear_state:function(){this.set_strobes(!1),this.obj.state=""},set_state:function(t,e){"waiting"===t&&(this.obj.state="is-waiting",this.set_strobes(!0)),"success"===t&&(this.obj.state="is-success",this.set_strobes(!1)),"error"===t&&(this.obj.state="is-error",this.set_strobes(!1)),""!==t&&"reset"!==t||this.init(),"message"===t&&(this.clear_state(),this.message_set(e))},set_strobes:function(t){if(t){var e=this;setTimeout(function(){"is-waiting"===e.obj.state&&(e.obj.strobes=!0)},350)}else this.obj.strobes=!1},message_set:function(t){this.obj.message=t,this.obj.hasMessage=!0,this.message_reset()},message_reset:function(){var t=this;setTimeout(function(){t.obj.hasMessage=!1},t.time.message)},clicked:function(){void 0!==this.onClick&&this.onClick()}},mounted:function(){this.$on("state",this.set_state),this.init()},beforeDestroy:function(){this.$off("state",this.set_state)},components:{}},ee=te,se=(s("98bc"),Object(u["a"])(ee,Qt,Vt,!1,null,null,null)),ae=se.exports,ne=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"message"},[s("p",{class:t.get_class},[t._v(" \n\t\t\t"+t._s(t.get_message)+" \n\t")])])},ie=[],oe=null,re=null,ce={name:"cMessage",data:function(){return{obj:{class:"",message:""},duration_sec:4}},props:{},computed:{get_class:function(){return this.obj.class},get_message:function(){return this.obj.message}},methods:{message_set:function(t){this.obj.class=t.class,this.obj.message=t.message,this.message_reset()},message_reset:function(){var t=this;oe=setTimeout(function(){t.obj.class=""},1e3*(t.duration_sec-1)),re=setTimeout(function(){t.obj.message=""},1e3*t.duration_sec)}},mounted:function(){this.$on("message",this.message_set)},beforeDestroy:function(){clearTimeout(oe),clearTimeout(re),this.$off("message",this.message_set)},components:{}},le=ce,ue=(s("7554"),Object(u["a"])(le,ne,ie,!1,null,"f2aed4e2",null)),de=ue.exports,me={name:"Register",mixins:[Y],data:function(){return{attrs:{validate:{max:30,name:3,password:7},server:{max_timeouts:5,timing:1500},action:Object},state:{init:!1,timeouts:0},form:{name:{show:!0,isRequired:!0,value:""},email:{show:!0,isRequired:!0,value:""},password:{show:!0,isRequired:!0,value:""},validate:!0}}},methods:{init:function(){if(!this.state.init){var t={url:"/api/account/create",method:"POST",JSON:!0,body:{name:"",email:"",password:""}};this.attrs.action=t,this.state.init=!0}},onLogin:function(t){if(Jt.email(this.form.email.value)&&Jt.length(this.form.password.value,this.attrs.validate.password,100)&&Jt.length(this.form.name.value,this.attrs.validate.name,this.attrs.validate.max)){this.attrs.action.body.name=this.form.name.value,this.attrs.action.body.email=this.form.email.value,this.attrs.action.body.password=this.form.password.value;var e=this;this.onSubmit(this.attrs.action,e,e.$refs.btnSubmit,e.$refs.msgSubmit,e.onSuccess,e.onError)}},onSuccess:function(t){var e=this;e.$refs.btnSubmit.$emit("state","message","Hello!"),e.$store.dispatch("user/login_success",t.token),setTimeout(function(){e.$router.push("/")},2e3)},onError:function(t){this.state.timeouts<this.attrs.server.max_timeouts&&(this.$refs.btnSubmit.$emit("state","message","Error!"),t.status)}},mounted:function(){this.init()},components:{"c-account-input":Zt,"c-button":ae,"c-message":de,"c-panel":Et}},fe=me,he=Object(u["a"])(fe,qt,Bt,!1,null,null,null),pe=he.exports,ge=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-panel",[s("template",{slot:"header"},[t._v("\n\t\tAccount Login\n\t")]),s("form",{staticClass:"form",attrs:{action:"/api/account/login",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.onLogin(e)}}},[s("c-account-input",{attrs:{input:t.form}}),s("c-message",{ref:"msgSubmit",staticClass:"colour-fill-bg-inv"}),s("br"),s("c-button",{ref:"btnSubmit"},[t._v("\n\t\t\t\tLogin\n\t\t\t")])],1),s("template",{slot:"footer"},[s("p",{staticClass:"colour-fill-bg-inv"},[t._v("\n\t\t\tDont have an account, why not \n\n\t\t\t"),s("router-link",{staticClass:"colour-fill-accent",attrs:{to:"/register"}},[t._v("\n\t\t\t\t\tregister?\n\t\t\t")])],1)])],2)},_e=[],ve={name:"Login",mixins:[Y],data:function(){return{attrs:{validate:{max:30,name:3,password:7},server:{max_timeouts:5,timing:1500},action:Object},state:{init:!1,timeouts:0},form:{name:{show:!1,isRequired:!1,value:""},email:{show:!0,isRequired:!0,value:""},password:{show:!0,isRequired:!0,value:""},validate:!1}}},methods:{init:function(){if(!this.state.init){var t={url:"/api/account/login",method:"POST",JSON:!0,body:{email:"",password:""}};this.attrs.action=t,this.state.init=!0}},onLogin:function(t){if(Jt.email(this.form.email.value)&&Jt.length(this.form.password.value,this.attrs.validate.password,100)){this.attrs.action.body.email=this.form.email.value,this.attrs.action.body.password=this.form.password.value;var e=this;this.onSubmit(this.attrs.action,e,e.$refs.btnSubmit,e.$refs.msgSubmit,e.onSuccess,e.onError)}},onSuccess:function(t){var e=this;e.$refs.btnSubmit.$emit("state","message","Hello!"),e.$store.dispatch("user/login_success",t.token),setTimeout(function(){e.$router.push("/")},2e3)},onError:function(t){if(this.state.timeouts<this.attrs.server.max_timeouts){if(this.$refs.btnSubmit.$emit("state","message","Error!"),408!==t.status)return;var e=this;setTimeout(function(){e.state.timeouts+=1,e.onSubmit(e.attrs.action,e,e.$refs.btnSubmit,e.$refs.msgSubmit,e.onSuccess,e.onError)},e.attrs.server.timing)}}},mounted:function(){this.init()},components:{"c-account-input":Zt,"c-button":ae,"c-message":de,"c-panel":Et}},be=ve,we=Object(u["a"])(be,ge,_e,!1,null,null,null),ye=we.exports,$e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-panel",[s("template",{slot:"header"},[t._v("\n\t\tAccount Logout\n\t")]),s("form",{staticClass:"form",attrs:{action:"/api/account/logout",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.onLogout(e)}}},[s("c-message",{ref:"msgSubmit",staticClass:"colour-fill-bg-inv"}),s("br"),s("c-button",{ref:"btnSubmit"},[t._v("\n\t\t\t\tLogout\n\t\t\t")])],1)],2)},xe=[],Ce={name:"Logout",mixins:[Y],data:function(){return{attrs:{server:{max_timeouts:5,timing:1500},action:Object},state:{init:!1,timeouts:0}}},methods:{init:function(){if(!this.state.init){var t={url:"/api/account/logout",method:"POST",JSON:!1,body:{}};this.attrs.action=t,this.state.init=!0}},onLogout:function(t){var e=this;this.onSubmit(this.attrs.action,e,e.$refs.btnSubmit,e.$refs.msgSubmit,e.onSuccess,e.onError)},onSuccess:function(t){var e=this;e.$refs.btnSubmit.$emit("state","message","GoodBye!"),e.$store.dispatch("user/logout_success",""),e.logout()},onError:function(t){if(this.state.timeouts<this.attrs.server.max_timeouts){if(this.$refs.btnSubmit.$emit("state","message","Error!"),408!==t.status)return;var e=this;setTimeout(function(){e.state.timeouts+=1,e.onSubmit(e.attrs.action,e,e.$refs.btnSubmit,e.$refs.msgSubmit,e.onSuccess,e.onError)},e.attrs.server.timing)}},logout:function(){var t=this;setTimeout(function(){t.$router.push("/")},2e3)}},mounted:function(){this.init()},components:{"c-button":ae,"c-message":de,"c-panel":Et}},je=Ce,ke=Object(u["a"])(je,$e,xe,!1,null,null,null),Se=ke.exports,Oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex-only-on-large"},[t.isDeleting?s("c-popup",{attrs:{onClick:t.hide_delete}},[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n\t\t\tDelete Account\n\t\t")]),s("p",{staticClass:"text"},[t._v(" Are you sure you want to delete ")]),s("p",{staticClass:"text"},[t._v(" this account? ")]),s("br"),s("div",{staticClass:"flex-row flex-row-between"},[s("c-button",{attrs:{onClick:t.hide_delete,type:"button"}},[t._v("\n\t\t\t\tClose\n\t\t\t")]),s("c-button",{staticClass:"colour-negative-bg",attrs:{type:"button",onClick:t.onSubmit_delete}},[t._v("\n\t\t\t\tDelete\n\t\t\t")])],1),s("c-message",{ref:"messageBtnDel"})],1):t._e(),s("c-panel",[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n\t\t\tAccount\n\t\t")]),s("form",{staticClass:"form",attrs:{action:"/api/account/?_method=PUT",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.onSubmit_update(e)}}},[t.isEditing?s("c-account-input",{attrs:{Input:t.account}}):s("c-account-text",{attrs:{Input:t.account}}),s("div",{staticClass:"flex-row flex-row-between",class:{"is-edit":!t.isEditing}},[s("c-button",{staticClass:"colour-yellow",attrs:{onClick:t.edit_switch,type:"button"}},[t._v("\n\t\t\t\t\t"+t._s(t.button_undo_label)+"\n\t\t\t\t")]),s("c-button",{directives:[{name:"show",rawName:"v-show",value:t.isEditing,expression:"isEditing"}],staticClass:"colour-positive-bg",attrs:{type:"submit",progress:t.progress_update}},[t._v("\n\t\t\t\t\tUpdate \n\t\t\t\t")]),s("c-button",{directives:[{name:"show",rawName:"v-show",value:t.isEditing,expression:"isEditing"}],staticClass:"colour-negative-bg",attrs:{type:"button",onClick:t.popup_delete,progress:t.progress_delete}},[t._v("\n\t\t\t\t\tDelete\n\t\t\t\t")])],1),s("c-message",{ref:"messageBtn"})],1)])],1)},Ee=[],Te=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"account-text"},[t.NameShow?s("div",{staticClass:"field"},[s("p",{staticClass:"text label"},[t._v("Name:")]),s("p",{staticClass:"text account-text-item"},[t._v("\n\t\t\t"+t._s(t.Input.Name.value)+"\n\t\t")])]):t._e(),t.EmailShow?s("div",{staticClass:"field"},[s("p",{staticClass:"text label"},[t._v("Email:")]),s("p",{staticClass:"text account-text-item"},[t._v("\n\t\t\t"+t._s(t.Input.Email.value)+"\n\t\t")])]):t._e(),t.PasswordShow?s("div",{staticClass:"field"},[s("p",{staticClass:"text label"},[t._v("Password:")]),s("p",{staticClass:"text account-text-item"},[t._v("\n\t\t\t"+t._s(t.getPassword)+"\n\t\t")])]):t._e()])},Pe=[],De={name:"AccountText",props:{Input:{Name:Object,Email:Object,Password:Object}},computed:{NameShow:function(){return!(void 0===this.Input.Name||!this.Input.Name.show)},EmailShow:function(){return!(void 0===this.Input.Email||!this.Input.Email.show)},PasswordShow:function(){return!(void 0===this.Input.Password||!this.Input.Password.show)},getPassword:function(){return"hidden"}}},Ne=De,qe=(s("5681"),Object(u["a"])(Ne,Te,Pe,!1,null,"d1c0f190",null)),Be=qe.exports,Re=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"parent"},[s("div",{ref:"popup",staticClass:"popup-fill",class:t.extraClass,staticStyle:{"z-index":"30"}},[s("transition",{attrs:{appear:"",name:"fade"}},[t.onShow?s("div",{staticClass:"fill-all colour-bg-darken",on:{click:t.clicked}}):t._e()]),s("transition",{attrs:{appear:"",name:"slide-in"}},[t.onShow?s("div",{staticClass:"panel center-auto-h",staticStyle:{position:"relative","z-index":"50"}},[s("header",{},[s("p",{staticClass:"header colour-fill-bg-inv text-funky custom"},[t._t("header")],2),s("div",{staticClass:"options flex-row flex-row-end header-shadow1"},[t._t("options")],2)]),s("div",{staticClass:"width-90 center-auto-h"},[s("main",{staticClass:"text"},[t._t("default")],2),t._t("no-margin"),s("footer",{staticClass:"footer"},[s("p",{staticClass:"text"},[t._t("footer")],2)])],2)]):t._e()])],1)])},Ae=[],Le={name:"cPopUp",data:function(){return{}},props:{extraClass:String,onClick:Function,onShow:Boolean,onRemove:Boolean},methods:{clicked:function(){void 0!==this.onClick&&this.onClick()},exit:function(){this.$refs.parent.appendChild(this.$refs.popup)}},mounted:function(){document.body.appendChild(this.$refs.popup)},beforeDestroy:function(){this.exit()},components:{}},Ie=Le,ze=(s("908a"),Object(u["a"])(Ie,Re,Ae,!1,null,"7781b48a",null)),Je=ze.exports,Me={methods:{expired_token_check:function(t){if(401===t.status&&"jwt expired"===t.message){var e=this;return setTimeout(function(){e.$router.push("/login")},2e3),!0}return!1}}},Ue={name:"Account",mixins:[Me],data:function(){return{isEditing:!1,isDeleting:!1,progress_update:{waiting:!1,success:!1,error:!1},progress_delete:{waiting:!1,success:!1,error:!1},account:{Name:{show:!0,isRequired:!0,value:""},Email:{show:!0,isRequired:!0,value:""},Password:{show:!0,isRequired:!0,value:""}}}},computed:{button_undo_label:function(){return this.isEditing?"undo":"edit"}},created:function(){},mounted:function(){this.get_user()},methods:{popup_delete:function(){this.isDeleting=!0},hide_delete:function(){this.isDeleting=!1},get_user:function(){var t=this.$store.getters["user/get_user"];this.account.Name.value=t.name,this.account.Email.value=t.email},edit_switch:function(){this.isEditing=!this.isEditing},button_reset_update:function(){var t=this;setTimeout(function(){t.progress_update.waiting=!1,t.progress_update.success=!1,t.progress_update.error=!1},1e3)},button_reset_delete:function(){var t=this;setTimeout(function(){t.progress_delete.waiting=!1,t.progress_delete.success=!1,t.progress_delete.error=!1},1e3)},onSubmit_update:function(t){var e=this;this.progress_update.waiting=!0,this.$request.request_url_form(t,function(t,s){if(e.button_reset_update(),t)return e.expired_token_check(t),e.progress_update.error=!0,void e.$refs.messageBtn.$emit("message",{class:"error text-negative",message:t.message});e.progress_update.success=!0,e.$refs.messageBtn.$emit("message",{class:"success text-positive",message:s.message}),setTimeout(function(){e.$store.dispatch("user/login_success",s.token),e.$router.push("/")},1e3)})},onSubmit_delete:function(t){var e=this,s={url:"/api/account/?_method=DELETE",method:"POST",body:""};this.progress_delete.waiting=!0,this.$request.request_url(s,function(t,s){if(t)return e.expired_token_check(t)&&setTimeout(function(){e.hide_delete()},1400),e.progress_delete.error=!0,void e.$refs.messageBtnDel.$emit("message",{class:"error text-negative",message:t.message});e.progress_delete.success=!0,e.$refs.messageBtnDel.$emit("message",{class:"success text-positive",message:s.message}),e.button_reset_delete(),setTimeout(function(){e.hide_delete()},1400),setTimeout(function(){e.$store.dispatch("user/logout_success"),e.$router.push("/")},1900)})}},components:{"c-button":ae,"c-panel":Et,"c-popup":Je,"c-account-input":Zt,"c-account-text":Be,"c-message":de}},Ge=Ue,Fe=Object(u["a"])(Ge,Oe,Ee,!1,null,null,null),Ke=Fe.exports,We=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",{staticClass:"title text-center text-light",staticStyle:{"margin-bottom":"1rem"}},[t._v("Dashboard:")]),s("div",{staticClass:"admin flex-only-on-large"},[s("c-admin-edit"),s("c-admin-users-graph"),s("c-admin-users-month"),s("c-admin-users-all"),s("c-admin-db")],1)])},He=[],Ye=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-panel",{staticClass:"admin order"},[s("div",{attrs:{slot:"header-no-cap"},slot:"header-no-cap"},[s("span",{staticClass:"text-uppercase"},[t._v(" Database ")])]),s("div",{staticClass:"account-text"},[s("table",{staticStyle:{margin:"0 !important",padding:"0 !important"},attrs:{slot:"no-margin"},slot:"no-margin"},[s("thead",{staticClass:"head"},[s("tr",{staticClass:"row"},[s("th",{staticClass:"text text-blur colour-text-dark"},[t._v("Name")]),s("th",{staticClass:"text text-blur colour-text-dark"},[t._v("Count")]),s("th",{staticClass:"text text-blur colour-text-dark"},[t._v("Size")]),s("th",{staticClass:"text text-blur colour-text-dark"})])]),s("tbody",t._l(t.data,function(e){return s("tr",{key:e.name,staticClass:"row"},[s("td",{staticClass:"text"},[s("p",[t._v(" "+t._s(e.name))])]),s("td",{staticClass:"text"},[s("p",[t._v(" "+t._s(e.count))])]),s("td",{staticClass:"text"},[s("p",[t._v(" \n\t\t\t\t\t\t\t"+t._s((e.storageSize/1e3).toFixed(2))+" KB\n\t\t\t\t\t\t")])]),t.all_button(e.name)?s("td",{staticClass:"text"},[s("button",{staticClass:"button text-light",on:{click:function(s){return t.reset_db(e.name)}}},[t._v("\n\t\t\t\t\t\t\t\treset\n\t\t\t\t\t\t")])]):t._e()])}),0)])]),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("c-message",{ref:"messageBtn"})],1)])},Xe=[],Ze={name:"cAdminDB",mixins:[Me],data:function(){return{data:Array}},mounted:function(){this.get_db_stats()},methods:{all_button:function(t){return t.toLowerCase()!=="All".toLowerCase()},reset_db:function(t){var e=this,s={url:"/api/admin/reset/"+t.toLowerCase(),method:"POST",body:""};this.$request.request_url(s,function(t,s){if(t)return e.$refs.messageBtn.$emit("message",{class:"error text-negative",message:t.message}),void e.expired_token_check(t);e.$refs.messageBtn.$emit("message",{class:"success text-positive",message:s.message}),setTimeout(function(){e.get_db_stats()},1e3)})},get_db_stats:function(){var t=this,e={url:"/api/admin/stats",method:"POST",body:""};this.$request.request_url(e,function(e,s){if(e)return t.expired_token_check(e),void t.$refs.messageBtn.$emit("message",{class:"error text-negative",message:e.message});t.data=s.data})}},components:{"c-button":ae,"c-panel":Et,"c-message":de}},Qe=Ze,Ve=(s("3e3b"),Object(u["a"])(Qe,Ye,Xe,!1,null,"1cfc48e1",null)),ts=Ve.exports,es=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.show_delete?s("c-popup",{staticClass:"admin",staticStyle:{"z-index":"100"},attrs:{onClick:t.hide_delete}},[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n\t\t\tDelete user\n\t\t")]),s("p",{staticClass:"text"},[t._v(" Are you sure you want to delete ")]),s("p",{staticClass:"text"},[t._v(" this account? ")]),s("br"),s("div",{staticClass:"flex-row flex-row-between"},[s("c-button",{attrs:{onClick:t.hide_delete,type:"button"}},[t._v("\n\t\t\t\tClose\n\t\t\t")]),s("c-button",{staticClass:"colour-negative-bg",attrs:{type:"button",onClick:t.onSubmit_delete}},[t._v("\n\t\t\t\tDelete\n\t\t\t")])],1),s("c-message",{ref:"messageBtnDel"})],1):t._e(),t.show_edit?s("c-popup",{staticClass:"admin",attrs:{onClick:t.hide_edit}},[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n\t\t\tEdit user\n\t\t")]),s("div",{staticStyle:{margin:"0 !important",padding:"0 !important"},attrs:{slot:"no-margin"},slot:"no-margin"},[s("form",{staticClass:"form",attrs:{action:t.form_url,method:"POST"},on:{submit:function(e){return e.preventDefault(),t.onSubmit_update(e)}}},[s("div",{staticClass:"field"},[s("p",{staticClass:"text label"},[t._v("Name:")]),s("input",{staticClass:"text",attrs:{type:"string",name:"name",placeholder:"Name"},domProps:{value:t.name}})]),s("div",{staticClass:"field"},[s("p",{staticClass:"text label"},[t._v("Email:")]),s("input",{staticClass:"text",attrs:{type:"email",name:"email",placeholder:"Email"},domProps:{value:t.email}})]),s("div",{staticClass:"field"},[s("p",{staticClass:"text label"},[t._v("Role:")]),s("input",{staticClass:"text",attrs:{type:"string",name:"role",placeholder:"Role"},domProps:{value:t.role}})]),s("div",{staticClass:"field"},[s("p",{staticClass:"text label"},[t._v("Created:")]),s("input",{staticClass:"text",attrs:{type:"date",name:"created",placeholder:"Role"},domProps:{value:t.created}})]),s("div",{staticClass:"field"},[s("p",{staticClass:"text label"},[t._v("Updated:")]),s("input",{staticClass:"text",attrs:{type:"date",name:"updated",placeholder:"Role"},domProps:{value:t.updated}})]),s("div",{staticClass:"field"},[s("p",{staticClass:"text label"},[t._v("Login:")]),s("input",{staticClass:"text",attrs:{type:"date",name:"login",placeholder:"Role"},domProps:{value:t.login}})]),s("div",{staticClass:"field"},[s("p",{staticClass:"text label"},[t._v("ID:")]),s("input",{staticClass:"text",attrs:{type:"string",name:"id",placeholder:"ID"},domProps:{value:t.id_user}})]),s("div",{staticClass:"flex-row flex-row-between"},[s("c-button",{staticClass:"colour-positive-bg",attrs:{type:"submit",progress:t.progress_update}},[t._v("\n\t\t\t\t\t\tUpdate \n\t\t\t\t\t")]),s("c-button",{staticClass:"colour-negative-bg",attrs:{type:"button",onClick:t.popup_delete,progress:t.progress_delete}},[t._v("\n\t\t\t\t\t\tDelete\n\t\t\t\t\t")])],1),s("c-message",{ref:"messageBtn"})],1)]),s("div",{attrs:{slot:"footer"},slot:"footer"})]):t._e()],1)},ss=[],as={name:"cAdminEdit",mixins:[Me],data:function(){return{data:{id:"",name:"",email:"",role:"",created:"",updated:"",login:""},show_edit:!1,progress_update:{waiting:!1,success:!1,error:!1},show_delete:!1,progress_delete:{waiting:!1,success:!1,error:!1}}},mounted:function(){this.$root.$on("userAdminSelect",this.show_user)},computed:{name:function(){return this.data.name},email:function(){return this.data.email},role:function(){return this.data.role},created:function(){return new Date(this.data.created).toISOString().split("T")[0]},updated:function(){return new Date(this.data.updated).toISOString().split("T")[0]},login:function(){return new Date(this.data.login).toISOString().split("T")[0]},id_user:function(){return this.data.id},form_url:function(){return"/api/admin/user/"+this.id_user+"?_method=PUT"}},methods:{popup_edit:function(){this.show_edit=!0},hide_edit:function(){this.show_edit=!1},popup_delete:function(){this.show_delete=!0},hide_delete:function(){this.show_delete=!1},show_user:function(t){this.data.name=t.name,this.data.email=t.email,this.data.id=t.id,this.data.role=t.role,this.data.created=t.date.created,this.data.updated=t.date.updated,this.data.login=t.date.login,this.popup_edit()},button_update_reset:function(){var t=this;setTimeout(function(){t.progress_update.waiting=!1,t.progress_update.error=!1,t.progress_update.success=!1},1e3)},button_delete_reset:function(){var t=this;setTimeout(function(){t.progress_delete.waiting=!1,t.progress_delete.error=!1,t.progress_delete.success=!1},1e3)},onSubmit_update:function(t){this.progress_update.waiting=!0;var e=this;this.$request.request_url_form(t,function(t,s){if(e.button_update_reset(),t)return e.expired_token_check(t),e.progress_update.error=!0,void e.$refs.messageBtn.$emit("message",{class:"error text-negative",message:t.message});e.$refs.messageBtn.$emit("message",{class:"success text-positive",message:s.message}),e.progress_update.success=!0,e.$root.$emit("userChanged"),setTimeout(function(){e.hide_edit()},2300)})},onSubmit_delete:function(t){var e=this,s={url:"/api/admin/user/"+this.id_user+"?_method=DELETE",method:"POST",body:""};this.progress_delete.waiting=!0,this.$request.request_url(s,function(t,s){if(e.button_delete_reset(),t)return e.expired_token_check(t),e.progress_delete.error=!0,void e.$refs.messageBtnDel.$emit("message",{class:"error text-negative",message:t.message});e.$refs.messageBtnDel.$emit("message",{class:"success text-positive",message:s.message}),e.progress_delete.success=!0,e.$root.$emit("userChanged"),setTimeout(function(){e.hide_delete()},2e3),setTimeout(function(){e.hide_edit()},2300)})}},components:{"c-button":ae,"c-popup":Je,"c-message":de}},ns=as,is=Object(u["a"])(ns,es,ss,!1,null,null,null),os=is.exports,rs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-panel",{staticClass:"admin order"},[s("div",{attrs:{slot:"header-no-cap"},slot:"header-no-cap"},[s("span",{staticClass:"text-uppercase"},[t._v(" users ")]),s("span",[t._v(" (all) : "+t._s(t.data.length)+" ")])]),s("table",{staticStyle:{margin:"0 !important",padding:"0 !important"},attrs:{slot:"no-margin"},slot:"no-margin"},[s("thead",{staticClass:"head"},[s("tr",{staticClass:"row"},[s("th",{staticClass:"text text-blur colour-text-dark"},[t._v("Name")]),s("th",{staticClass:"text text-blur colour-text-dark"},[t._v("Email")]),s("th",{staticClass:"text text-blur colour-text-dark"},[t._v("Role")]),s("th",{staticClass:"text text-blur colour-text-dark"})])]),s("tbody",t._l(t.data,function(e){return s("tr",{key:e.email,staticClass:"row"},[s("td",{staticClass:"text"},[s("p",[t._v(" "+t._s(e.name)+" ")])]),s("td",{staticClass:"text"},[s("p",[t._v(" "+t._s(e.email)+" ")])]),s("td",{staticClass:"text"},[s("p",[t._v(" "+t._s(e.role)+" ")])]),s("td",{staticClass:"text"},[s("button",{staticClass:"button text-light",on:{click:function(s){return t.onClick(e)}}},[t._v("\n\t\t\t\t\t\tO\n\t\t\t\t\t")])])])}),0)]),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("c-message",{ref:"messageBtn"})],1)])},cs=[],ls={name:"cAdminUsersAll",mixins:[Me],data:function(){return{data:Array}},mounted:function(){this.get_users_all(),this.$root.$on("userChanged",this.event_get_users_all)},methods:{onClick:function(t){this.$root.$emit("userAdminSelect",t)},event_get_users_all:function(){var t=this;setTimeout(function(){t.get_users_all()},1e3)},get_users_all:function(){var t=this,e={url:"/api/admin/user/all",method:"POST",body:""};this.$request.request_url(e,function(e,s){if(e)return t.expired_token_check(e),void t.$refs.messageBtn.$emit("message",{class:"error text-negative",message:e.message});t.data=s.data})}},components:{"c-panel":Et,"c-message":de}},us=ls,ds=(s("1cf3"),Object(u["a"])(us,rs,cs,!1,null,"085c87f2",null)),ms=ds.exports,fs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-panel",{staticClass:"admin"},[s("div",{attrs:{slot:"header-no-cap"},slot:"header-no-cap"},[s("span",{staticClass:"text-uppercase"},[t._v(" users ")]),s("span",[t._v(" (30days) : "+t._s(t.data.new.length)+" ")])]),s("div",{staticStyle:{margin:"0 !important",padding:"0 !important"},attrs:{slot:"no-margin"},slot:"no-margin"},[s("table",{staticStyle:{margin:"0 !important",padding:"0 !important"}},[s("thead",{staticClass:"head"},[s("tr",{staticClass:"row"},[s("th",{staticClass:"text text-blur colour-text-dark"},[t._v("Name")]),s("th",{staticClass:"text text-blur colour-text-dark"},[t._v("Email")]),s("th",{staticClass:"text text-blur colour-text-dark"},[t._v("Role")]),s("th",{staticClass:"text text-blur colour-text-dark"})])]),s("tbody",t._l(t.data.new,function(e){return s("tr",{key:e.id,staticClass:"row"},[s("td",{staticClass:"text"},[s("p",[t._v(" "+t._s(e.name))])]),s("td",{staticClass:"text"},[s("p",[t._v(" "+t._s(e.email)+" ")])]),s("td",{staticClass:"text"},[s("p",[t._v(" "+t._s(e.role)+" ")])]),s("td",{staticClass:"text"},[s("button",{staticClass:"button text-light",on:{click:function(s){return t.onClick(e)}}},[t._v("\n\t\t\t\t\t\t\tO\n\t\t\t\t\t\t")])])])}),0)])]),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("c-message",{ref:"messageBtn"})],1)])},hs=[],ps={name:"cAdminUsersMonth",mixins:[Me],data:function(){return{data:{new:[],login:[],updated:[]}}},mounted:function(){this.get_users_month(),this.$root.$on("userChanged",this.event_get_users_month)},methods:{onClick:function(t){this.$root.$emit("userAdminSelect",t)},event_get_users_month:function(){var t=this;setTimeout(function(){t.get_users_month()},1e3)},get_users_month:function(){var t=this,e={url:"/api/admin/user/month",method:"POST",body:""};this.$request.request_url(e,function(e,s){if(e)return t.expired_token_check(e),void t.$refs.messageBtn.$emit("message",{class:"error text-negative",message:e.message});t.data=s.data,t.$root.$emit("adminMonthData",s.data)})}},components:{"c-button":ae,"c-panel":Et,"c-message":de}},gs=ps,_s=(s("80a3"),Object(u["a"])(gs,fs,hs,!1,null,"8067ca94",null)),vs=_s.exports,bs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"admin panel width-90 center-auto-h shadow order",staticStyle:{"flex-grow":"3 !important"}},[s("header",[s("p",{staticClass:"title text-uppercase text-small"},[s("span",{staticClass:"text-uppercase"},[t._v(" Users ("+t._s(t.graph_length)+" days) ")])])]),t._m(0)])},ws=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{margin:"0 !important",padding:"0 !important",height:"150px !important"}},[s("canvas",{attrs:{id:"id-chart"}})])}],ys=s("30ef"),$s=s.n(ys),xs={name:"cAdminUserGraph",data:function(){return{graph_length:30,chartData:{type:"bar",data:{labels:[],datasets:[{label:"new",data:[],backgroundColor:[]},{label:"login",data:[],backgroundColor:[]},{label:"updated",data:[],backgroundColor:[]}]},options:{responsive:!0,maintainAspectRatio:!1}}}},created:function(){},mounted:function(){this.$root.$on("adminMonthData",this.draw_graph),this.default_graph_setup()},computed:{},methods:{draw_graph:function(t){var e=this;setTimeout(function(){e.convert_users_to_days(t),e.createChart("id-chart",e.chartData)},2e3)},date_to_int:function(t){var e=864e5,s=Math.ceil(new Date(t).getTime()/e),a=Math.ceil((new Date).getTime()/e),n=a-s;return n},default_graph_setup:function(){this.chartData.data.datasets=[{label:"new",data:[],backgroundColor:[]},{label:"login",data:[],backgroundColor:[]},{label:"updated",data:[],backgroundColor:[]}];for(var t=0;t<this.graph_length;t++)t%3?this.chartData.data.labels.push("."):this.chartData.data.labels.push(t);for(var e=0;e<this.graph_length;e++)this.chartData.data.datasets[0].backgroundColor.push("rgba(200, 10, 10, .4)"),this.chartData.data.datasets[1].backgroundColor.push("rgba(10, 200, 10, .4)"),this.chartData.data.datasets[2].backgroundColor.push("rgba(10, 10, 200, .4)")},convert_users_to_days:function(t){for(var e=[],s=[],a=[],n=0;n<this.graph_length;n++)e.push(0),s.push(0),a.push(0);for(var i=0;i<t.new.length;i++){var o=this.date_to_int(t.new[i].date.created);o<=this.graph_length&&(e[o]+=1)}for(var r=0;r<t.login.length;r++){var c=this.date_to_int(t.login[r].date.login);c<=this.graph_length&&(s[c]+=1)}for(var l=0;l<t.updated.length;l++){var u=this.date_to_int(t.updated[l].date.updated);u<=this.graph_length&&(a[u]+=1)}this.chartData.data.datasets[0].data=e,this.chartData.data.datasets[1].data=s,this.chartData.data.datasets[2].data=a},createChart:function(t,e){var s=document.getElementById(t);new $s.a(s,{type:e.type,data:e.data,options:e.options})}},components:{"c-button":ae,"c-panel":Et}},Cs=xs,js=(s("8448"),Object(u["a"])(Cs,bs,ws,!1,null,"feebb7e2",null)),ks=js.exports,Ss={name:"Admin",data:function(){return{}},mounted:function(){},methods:{},components:{"c-admin-edit":os,"c-admin-db":ts,"c-admin-users-all":ms,"c-admin-users-month":vs,"c-admin-users-graph":ks}},Os=Ss,Es=Object(u["a"])(Os,We,He,!1,null,null,null),Ts=Es.exports,Ps=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-panel",{staticClass:"flex-only-on-large"},[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n\t\tAdmin Request\n\t")]),s("form",{staticClass:"form",attrs:{action:"/api/admin/request",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("div",{staticClass:"field"},[s("p",{staticClass:"text label"},[t._v("Password:")]),s("input",{staticClass:"text",attrs:{type:"password",name:"password",placeholder:"Admin Password"}})]),s("c-button",{attrs:{progress:t.progress}})],1)])},Ds=[],Ns={name:"AdminCreate",data:function(){return{progress:{waiting:!1,success:!1,error:!1}}},created:function(){},methods:{button_reset:function(){var t=this;setTimeout(function(){t.progress.waiting=!1,t.progress.success=!1,t.progress.error=!1},1e3)},onSubmit:function(t){this.progress.waiting=!0;var e=this;this.$request.request_url_form(t,function(t,s){if(e.button_reset(),t)return e.progress.error=!0,void console.log("error");e.progress.success=!0,setTimeout(function(){e.$store.dispatch("user/login_success",s.token),e.$router.push("/")},1e3)})}},components:{"c-button":ae,"c-panel":Et}},qs=Ns,Bs=Object(u["a"])(qs,Ps,Ds,!1,null,null,null),Rs=Bs.exports,As=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-panel",[s("template",{slot:"header"},[t._v("\n\t\t\tCreate Board\n\t\t")]),s("form",{staticClass:"form",attrs:{action:"/ignore"},on:{submit:function(e){return e.preventDefault(),t.onCreate(e)}}},[s("div",{ref:"name",staticClass:"field field-result"},[s("p",{staticClass:"text label colour-fill-bg-inv"},[t._v(" Name: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.input.name.value,expression:"input.name.value"}],staticClass:"text colour-fill-bg-inv text-input",attrs:{type:"string",placeholder:"Board Name here",pattern:t.name_pattern,title:t.name_title,required:""},domProps:{value:t.input.name.value},on:{change:t.validate_name,input:function(e){e.target.composing||t.$set(t.input.name,"value",e.target.value)}}}),s("c-field-result")],1),s("div",{staticClass:"field-column "},[s("span",{staticClass:"label"},[s("p",{staticClass:"text label colour-fill-bg-inv",staticStyle:{display:"inline-block"}},[t._v("\n\t\t\t\t\t\tPhrases or Words\n\t\t\t\t\t")]),s("div",{staticClass:"input-add colour-bg-inv add-btn anim-3",on:{click:t.words_add}},[s("div",{staticClass:"pin"},[s("span",{staticClass:"colour-bg"}),s("span",{staticClass:"colour-bg"})])])]),s("div",{ref:"wordsParent",staticClass:"field field-result"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.input.words.value,expression:"input.words.value"}],ref:"words",staticClass:"text colour-fill-bg-inv text-input",staticStyle:{height:"10rem","border-bottom":"1px solid var( --colour-inv )","margin-top":"-.5rem",overflow:"scroll"},attrs:{type:"string",placeholder:"Add 6 or more words or phrases. Seperate with , new line or +",required:""},domProps:{value:t.input.words.value},on:{change:t.validate_words,input:function(e){e.target.composing||t.$set(t.input.words,"value",e.target.value)}}}),s("c-field-result")],1)]),s("br"),s("c-message",{ref:"msgSubmit",staticClass:"colour-fill-bg-inv"}),s("div",{staticClass:"br-small"}),s("c-button",{ref:"btnSubmit"},[t._v("\n \t\t\t\tCreate\n \t\t\t")])],1)],2)},Ls=[],Is=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tag text colour-fill-bg-inv"},[t._t("default",[t._v("\n\t\tnew tag\n\t")])],2)},zs=[],Js={name:"cTag",data:function(){return{}},props:{onClick:Function},methods:{clicked:function(){void 0!==this.onClick&&this.onClick()}},mounted:function(){},components:{}},Ms=Js,Us=(s("b71a"),Object(u["a"])(Ms,Is,zs,!1,null,null,null)),Gs=Us.exports,Fs={name:"BoardCreate",mixins:[Y],data:function(){return{attrs:{words_or_prases:{min:6},word_or_phrase:{min:3},name:{min:5,max:30},server:{max_timeouts:5,timing:1500},action:Object},state:{init:!1,timeouts:0},input:{name:{value:""},words:{value:""}}}},computed:{name_pattern:function(){var t=".{"+this.attrs.name.min+","+this.attrs.name.max+"}";return t},name_title:function(){var t="name must be between "+this.attrs.name.min+" and "+this.attrs.name.max+" characters long.";return t}},methods:{init:function(t){if(!this.state.init){var e={url:"/api/board/create",method:"POST",JSON:!0,body:{name:"",words:""}};this.attrs.action=e,this.state.init=!0}},words_add:function(){this.input.words.value+=",\n",this.$refs.words.focus()},validate_name:function(){var t=this.input.name.value,e=this.$refs.name,s=Jt.length(t,this.attrs.name.min,this.attrs.name.max);return this.validate_result(s,e),s},validate_words:function(){this.input.words.value;for(var t=this.$refs.wordsParent,e=this.input.words.value.split(/[,\n\r]+/),s=[],a=0;a<e.length;a++){var n=e[a].trim();n.length>0&&s.push(n)}if(s.length<this.attrs.words_or_prases.min)return this.validate_result(!1,t),!1;for(var i=100,o=0;o<s.length;o++)s[o].length<i&&(i=s[o].length);return i<this.attrs.word_or_phrase.min?(this.validate_result(!1,t),!1):(this.validate_result(!0,t),!0)},validate_result:function(t,e){null!==t?t?t&&this.set_element_pass(e):this.set_element_fail(e):this.set_element_default(e)},set_element_default:function(t){return t.className="field field-result"},set_element_pass:function(t){return t.className="field field-result pass"},set_element_fail:function(t){return t.className="field field-result fail"},onCreate:function(t){if(void 0!==this.attrs.action.url&&this.validate_name()&&this.validate_words()){this.attrs.action.body.name=this.input.name.value,this.attrs.action.body.words=this.input.words.value;var e=this;e.onSubmit(e.attrs.action,e,e.$refs.btnSubmit,e.$refs.msgSubmit,e.onSuccess,e.onError)}},onSuccess:function(t){var e=this;e.$refs.btnSubmit.$emit("state","message","Enjoy!"),setTimeout(function(){e.$router.push("/board/"+t.data.url)},3e3)},onError:function(t){if(this.state.timeouts<this.attrs.server.max_timeouts){if(this.$refs.btnSubmit.$emit("state","message","Error!"),408!==t.status)return;var e=this;setTimeout(function(){e.state.timeouts+=1,e.onSubmit(e.attrs.action,e,e.$refs.btnSubmit,e.$refs.msgSubmit,e.onSuccess,e.onError)},e.attrs.server.timing)}}},mounted:function(){this.init()},components:{"c-button":ae,"c-panel":Et,"c-message":de,"c-tag":Gs,"c-field-result":Wt}},Ks=Fs,Ws=(s("4a20"),Object(u["a"])(Ks,As,Ls,!1,null,null,null)),Hs=Ws.exports,Ys=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-panel",[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n\t\tBoard Lobby\n\t")]),s("div",[s("c-button",{ref:"btnStart",attrs:{onClick:t.onStart}},[t._v("\n\t\t\tStart\n\t\t")])],1),s("div",[s("c-button",{ref:"btnRandom",attrs:{onClick:t.onRandom}},[t._v("\n\t\t\tRandom\n\t\t")])],1),s("c-button-expand",{ref:"btnJoin",attrs:{buttonShow:!0,buttonClickClose:!0,buttonClick:t.onJoin}},[s("p",{staticClass:"label",attrs:{slot:"label"},slot:"label"},[t._v("\n\t\t\tJoin\n\t\t")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.join.link,expression:"join.link"}],staticClass:"text colour-fill-bg-inv text-input",attrs:{slot:"content",type:"string",name:"join",placeholder:"eg 'bc8yh2'"},domProps:{value:t.join.link},on:{input:function(e){e.target.composing||t.$set(t.join,"link",e.target.value)}},slot:"content"}),s("p",{staticClass:"text text-bold",attrs:{slot:"button"},slot:"button"},[t._v("\n\t\t\tok\n\t\t")])]),s("c-button-expand",{attrs:{buttonShow:!0,buttonClickClose:!0,buttonClick:t.onCopy}},[s("p",{staticClass:"label",attrs:{slot:"label"},slot:"label"},[t._v("\n\t\t\tShare\n\t\t")]),s("input",{ref:"shareLinkURL",staticClass:"text colour-fill-bg-inv text-input",attrs:{slot:"content",type:"string",name:"share"},domProps:{value:t.share.link},slot:"content"}),s("p",{staticClass:"text text-bold",attrs:{slot:"button"},slot:"button"},[t._v("\n\t\t\tcopy\n\t\t")])]),s("c-message",{ref:"messageBtn"})],1)},Xs=[],Zs=(s("b54a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"btnHolder",staticClass:"button-holder"},[s("c-button",{ref:"btn",attrs:{onClick:t.onClickExpand}},[t._t("label",[t._v(" \n\t\t\t \tLabel here \n\t\t\t")])],2),s("transition",{attrs:{name:"slide-fade"}},[t.display?s("div",{staticClass:"anim-6 button-holder"},[s("div",{staticClass:"button-holder-content"},[t._t("content",[t._v("\n\t\t\t\t\t\t\tContent here\n\t\t\t\t\t\t")]),s("transition",{attrs:{name:"slide-fade-side"}},[t.button?s("button",{staticClass:"button expand-button",on:{click:t.onClickConfirm}},[t._t("button",[t._v("\n\t\t\t\t\t\t\t\t\t\t\tConfirm\n\t\t\t\t\t\t\t\t\t\t")])],2):t._e()])],2)]):t._e()]),s("div",{staticClass:"anim-3",style:t.display?"height: 2.3rem;":"height: .01rem;"})],1)}),Qs=[],Vs={name:"cButtonExpand",data:function(){return{display:!1,button:!1}},props:{buttonShow:Boolean,buttonClick:Function,buttonClickClose:Boolean},methods:{onClickExpand:function(){if(this.display=!this.display,this.button=!1,this.display&&this.buttonShow){var t=this;setTimeout(function(){t.button=!0},1e3)}},onClickConfirm:function(){if(void 0!==this.buttonClick&&this.buttonClick(),this.buttonClickClose){var t=this;setTimeout(function(){t.display=!1},500)}},emit:function(t,e){this.$refs.btn.$emit("state",t,e)}},mounted:function(){this.$on("state",this.emit)},components:{"c-button":ae}},ta=Vs,ea=(s("cef0"),Object(u["a"])(ta,Zs,Qs,!1,null,null,null)),sa=ea.exports,aa={name:"BoardLobby",mixins:[Y],data:function(){return{board:"",instance:"",join:{link:""},share:{link:""}}},computed:{},methods:{init:function(){this.board=this.$route.params.board,this.share.link=window.location.href},onSuccess:function(t){var e=this;setTimeout(function(){e.$router.push("/instance/"+t.data.url)},2e3)},onError:function(t){},onStart:function(t){var e={url:"/api/instance/"+this.board+"/create",method:"GET",body:""},s=this,a=s.$refs.btnStart;this.onSubmit(e,s,a,null,s.onSuccess,s.onError)},onRandom:function(t){var e={url:"/api/instance/"+this.board+"/random",method:"GET",body:""},s=this,a=s.$refs.btnRandom;this.onSubmit(e,s,a,null,s.onSuccess,s.onError)},onJoin:function(t){var e=this;e.$refs.btnJoin.$emit("state","waiting"),setTimeout(function(){e.$router.push("/instance/"+e.join.link)},1e3)},onCopy:function(){this.$refs.shareLinkURL.select();document.execCommand("copy")}},mounted:function(){this.init()},components:{"c-button":ae,"c-button-expand":sa,"c-panel":Et,"c-message":de,"c-tag":Gs}},na=aa,ia=Object(u["a"])(na,Ys,Xs,!1,null,null,null),oa=ia.exports,ra=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-panel",[s("c-init-instance",{on:{trigger:t.messageShow}}),s("c-init-board",{on:{trigger:t.messageShow}}),s("c-init-player",{on:{trigger:t.messageShow}}),s("c-window-game"),s("c-window-player"),s("c-update-instance",{on:{trigger:t.messageShow}}),s("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n\t\t"+t._s(t.board_name)+"\n\t")]),s("div",{attrs:{slot:"options"},slot:"options"},[s("c-players",{staticClass:"item"}),s("c-player",{staticClass:"item"})],1),s("c-game-words"),s("br"),s("br"),s("c-button",{ref:"btnReset",class:{"game-ready":t.game_ready},attrs:{onClick:t.reset}},[t._v("\n\t\t\tReset\n\t")]),s("br"),s("span",{staticClass:"text colour-fill-bg-inv"},[t._v("\n\t\t"+t._s(t.game_state.mode)+"\n\t\t"+t._s(t.game_state.result)+"\n\t")])],1)},ca=[],la=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div")},ua=[],da={name:"cInitBoard",mixins:[Y],data:function(){return{attrs:{server:{max_timeouts:5,timing:1e3},action:Object},state:{timeouts:0}}},methods:{init:function(t){var e="/api/board/"+t;this.$store.dispatch("board/set_action",e),this.$store.dispatch("board/set_board",{url:t});var s={url:e,method:"GET",JSON:!1};this.attrs.action=s;var a=this;a.onSubmit(a.attrs.action,a,null,null,a.board_success,a.board_error)},board_success:function(t){this.$store.dispatch("board/set_board",t.data),this.$store.dispatch("game/set_game",{board:!0}),this.$root.$emit("player.words.reset"),this.$root.$emit("player.check")},board_error:function(t){if(this.state.timeouts<this.attrs.server.max_timeouts){var e=this;setTimeout(function(){e.state.timeouts+=1,e.onSubmit(e.attrs.action,e,null,null,e.board_success,e.board_error)},e.attrs.server.timing)}},exit:function(){this.$root.$off("board.init",this.init),this.$store.dispatch("board/exit")}},mounted:function(){this.$root.$on("board.init",this.init)},beforeDestroy:function(){this.exit()}},ma=da,fa=Object(u["a"])(ma,la,ua,!1,null,null,null),ha=fa.exports,pa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div")},ga=[];function _a(t){t.$store.dispatch("game/set_game",{result:""})}function va(t,e){t.$store.dispatch("game/set_game",{result:"won",winner:e}),t.$root.$emit("game.won")}function ba(t,e){t.$store.dispatch("game/set_game",{result:"lost",winner:e}),t.$root.$emit("game.lost")}function wa(t,e){$a(t)}function ya(t){$a(t)}function $a(t){t.$store.dispatch("game/set_game",{joined:!1}),t.$store.dispatch("player/exit"),t.$root.$emit("game.kicked")}function xa(t,e){if(503!==t.status||void 0===t.message||"Instance does not have this player, please re-join."!==t.message)if(404!==t.status||void 0===t.message||"Instance is now closed, try starting another from the menu."!==t.message){if(void 0!==t.data&&void 0!==t.data.data&&void 0!==t.data.data.game&&void 0!==t.data.data.game.winner&&void 0!==t.data.data.game.winner.url){var s=t.data.data.game.winner.url,a=e.$store.getters["player/get_url"];if(t.data.data.game.win&&""!==s&&s===a)return va(e,t.data.data.game.winner);if(t.data.data.game.win&&""!==s&&s!==a)return ba(e,t.data.data.game.winner);if(""===a)return _a(e);for(var n=!1,i=e.$store.getters["instance/get_players"],o=0;o<i.length;o++)if(i[o].url===a){n=!0;break}return n?_a(e):wa(e,t)}}else wa(e);else ya(e)}var Ca={game:xa},ja=null,ka={name:"cInitInstance",mixins:[Y],data:function(){return{attrs:{server:{max_timeouts:5,timing:1e3,time_sec:8},action:Object},state:{timeouts:0,init:!1,stop:!1}}},methods:{init:function(){var t=this.$route.params.instance,e="/api/instance/"+t;this.$store.dispatch("instance/set_action",e),this.$store.dispatch("instance/set_instance",{url:t});var s={url:e,method:"GET",JSON:!0};this.attrs.action=s,ja=this.instance_get()},init_success:function(t){if(!this.state.init){this.$store.dispatch("game/set_game",{instance:!0}),this.$store.dispatch("instance/set_instance",t.data),this.$root.$emit("board.init",t.data.data.board);var e=this;setTimeout(function(){e.$emit("trigger","Download success.")},1500),this.state.init=!0}},instance_get:function(){var t=this;t.onSubmit(t.attrs.action,t,null,null,t.instance_success,t.instance_error)},instance_start:function(){this.state.stop&&(this.state.stop=!1,this.instance_get())},instance_stop:function(){this.state.stop=!0,clearTimeout(ja)},instance_success:function(t){var e=this;e.state.init||e.init_success(t),e.$store.dispatch("instance/set_players",t.data),ja=setTimeout(e.instance_get,this.attrs.server.time_sec*this.attrs.server.timing),Ca.game(t,e)},instance_error:function(t){var e=this;Ca.game(t,e)},exit:function(){clearTimeout(ja),this.$root.$off("game.won",this.instance_stop),this.$root.$off("game.lost",this.instance_stop),this.$root.$off("game.kicked",this.instance_stop),this.$root.$off("game.stop",this.instance_stop),this.$root.$off("player.success",this.instance_start)}},mounted:function(){this.init(),this.$root.$on("game.won",this.instance_stop),this.$root.$on("game.lost",this.instance_stop),this.$root.$on("game.kicked",this.instance_stop),this.$root.$on("game.stop",this.instance_stop),this.$root.$on("player.success",this.instance_start)},beforeDestroy:function(){this.exit()}},Sa=ka,Oa=Object(u["a"])(Sa,pa,ga,!1,null,null,null),Ea=Oa.exports,Ta=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div")},Pa=[],Da={name:"cInitPlayer",mixins:[Y],data:function(){return{attrs:{server:{max_timeouts:5,timing:1e3},action:Object},state:{timeouts:0,init:!1}}},methods:{check:function(){if(this.state.init||this.init(),""!==this.$store.getters["player/get_name"])return this.$store.getters["game/get_game"].joined||""!==this.$store.getters["player/get_url"]?void 0:(this.set_body(),void this.join());this.$root.$emit("player.show")},rejoin:function(){this.$root.$emit("player.words.reset"),this.check()},init:function(){this.attrs.action=this.$store.getters["instance/get_action"],this.set_body(),this.state.init=!0},set_body:function(){var t=this.$store.getters["player/get_url"],e=this.$store.getters["player/get_name"],s=this.$store.getters["player/get_score"],a={url:t,name:e,score:s};this.attrs.action.method=""===t?"POST":"PUT",this.attrs.action.body=a},join:function(){var t=this;t.onSubmit(t.attrs.action,t,null,null,t.join_success,t.join_error)},join_success:function(t){this.$store.dispatch("player/set_player",t.data),this.$store.dispatch("game/set_game",{joined:!0}),Ca.game(t,this);var e={class:"text success colour-fill-bg",message:t.message};this.$root.$emit("game.stop"),this.$root.$emit("player.message",e);var s=this;setTimeout(function(){s.$root.$emit("player.hide"),s.$root.$emit("player.success"),s.$store.dispatch("game/set_game",{}),s.$store.dispatch("game/set_game",{})},2e3)},join_error:function(t){this.$store.dispatch("game/set_game",{joined:!1}),this.$root.$emit("player.message",t.message),Ca.game(t,this);var e={class:"text error colour-fill-bg",message:t.message};this.$root.$emit("player.message",e);var s=this;setTimeout(function(){s.$root.$emit("player.hide")},3500)},reset:function(){this.state.init||this.init();var t={player:{url:this.$store.getters["player/get_url"],word:{reset:!0}}};this.attrs.action.method="PUT",this.attrs.action.body=t;var e=this;e.onSubmit(e.attrs.action,e,null,null,e.reset_success,e.reset_error)},reset_success:function(t){this.$root.$emit("reset.success"),this.join_success(t)},reset_error:function(t){Ca.game(t,this),this.$root.$emit("reset.fail"),console.log("error on reset"),console.log(t)},exit:function(){this.$root.$off("player.check",this.check),this.$root.$off("player.reset",this.reset),this.$root.$off("player.rejoin",this.rejoin)}},mounted:function(){this.$root.$on("player.check",this.check),this.$root.$on("player.reset",this.reset),this.$root.$on("player.rejoin",this.rejoin)},beforeDestroy:function(){this.exit()}},Na=Da,qa=Object(u["a"])(Na,Ta,Pa,!1,null,null,null),Ba=qa.exports,Ra=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hover-trigger",staticStyle:{position:"relative"}},[s("c-button",{ref:"btnPlayer",staticClass:"is-player",attrs:{onClick:t.clicked}},[s("svg",{staticClass:"icon colour-fill-bg",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"1.41421",margin:"0",padding:"0"},attrs:{height:"100%",viewBox:"0 0 286 301",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{staticClass:"icon-path",attrs:{d:"M0.983,215.25l0,-1.555c0,-34.514 40.305,-63.859 96.27,-74.403c-18.879,-14.012 -31.122,-36.469 -31.122,-61.763c0,-42.426 34.444,-76.87 76.869,-76.87c42.425,0 76.869,34.444 76.869,76.87c0,25.294 -12.243,47.751 -31.122,61.763c55.965,10.544 96.27,39.889 96.27,74.403l0,1.555c-27.006,50.823 -80.498,85.463 -142.017,85.463c-61.519,0 -115.011,-34.64 -142.017,-85.463Z"}})])]),s("div",{staticClass:"player-score"},[s("p",{staticClass:"title colour-fill-bg-inv"},[t._v("\n\t\t\t"+t._s(t.player_Score)+"\n\t\t")])]),s("div",{staticClass:"hover",class:{trigger:t.state.display}},[s("div",{staticStyle:{position:"relative","pointer-events":"none"}},[s("p",{staticClass:"anim-6 hover-message text colour-fill-bg"},[t._v("\n\t\t\t\t"+t._s(t.player_name)+"\n\t\t\t")])])])],1)},Aa=[],La={name:"cPlayer",data:function(){return{attrs:{},state:{display:!1}}},computed:{player_name:function(){return this.$store.getters["player/get_name"]},player_Score:function(){return this.$store.getters["player/get_score"]}},methods:{clicked:function(){this.$root.$emit("player.show")},trigger:function(){this.state.display=!0;var t=this;setTimeout(function(){t.state.display=!1},2e3)},exit:function(){this.$root.$off("player.closed",this.trigger)}},mounted:function(){this.$root.$on("player.closed",this.trigger)},beforeDestroy:function(){this.exit()},components:{"c-button":ae}},Ia=La,za=(s("b3b9"),s("db10"),Object(u["a"])(Ia,Ra,Aa,!1,null,"b6fc53d0",null)),Ja=za.exports,Ma=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"players"},[s("transition-group",{attrs:{name:"player-dots"}},t._l(t.players,function(e,a){return s("c-player-dot",{key:e.url,attrs:{isPlayer:t.check_isPlayer(e),player:e}})}),1)],1)},Ua=[],Ga=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hover-trigger-dot player-dot colour-bg-inv",class:{"is-player":t.isPlayer,"colour-bg-button":t.isPlayer},staticStyle:{position:"relative"}},[s("div",{staticClass:"hover-dot"},[s("div",{staticStyle:{position:"relative","pointer-events":"none"}},[s("p",{staticClass:"anim-6 hover-message text colour-fill-bg"},[t._v("\n\t\t\t\t"+t._s(t.player.data.name)+"\n\t\t\t")])])])])},Fa=[],Ka={name:"cPlayerDot",data:function(){return{}},props:{player:Object,isPlayer:Boolean},computed:{name_short:function(){var t=this.player.data.name.substring(0,2);return t}},methods:{},mounted:function(){},components:{}},Wa=Ka,Ha=(s("6060"),Object(u["a"])(Wa,Ga,Fa,!1,null,null,null)),Ya=Ha.exports,Xa={name:"cPlayers",data:function(){return{attrs:{}}},computed:{player_url:function(){return this.$store.getters["player/get_url"]},players:function(){return this.$store.getters["instance/get_players"]}},methods:{check_isPlayer:function(t){return this.player_url===t.url}},mounted:function(){},beforeDestroy:function(){},components:{"c-player-dot":Ya}},Za=Xa,Qa=(s("5cbe"),s("8b44"),Object(u["a"])(Za,Ma,Ua,!1,null,"55a6d22c",null)),Va=Qa.exports,tn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.state.remove?t._e():s("c-popup",{attrs:{onShow:t.state.display,extraClass:t.attrs.extraClass,onClick:t.window_hide}},[s("div",{ref:"field_name",staticClass:"field field-result",class:t.state.class},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"text colour-fill-bg-inv text-input",attrs:{type:"string",placeholder:"Your name",value:"form.name",required:""},domProps:{value:t.form.name},on:{change:t.validate,input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),s("c-field-result"),s("c-button",{ref:"btnOK",attrs:{onClick:t.name_update}},[s("p",{staticClass:"colour-fill-bg-inv"},[t._v("\n\t\t\t\t\t"+t._s(t.button.label)+"\n\t\t\t\t")])])],1),s("c-message",{ref:"msgObj"})],1)},en=[],sn={name:"cPlayerWindow",data:function(){return{attrs:{name:{min:3,max:33},extraClass:"bullshit-menu"},state:{remove:!1,display:!1,lock:!1,class:""},button:{label:""},form:{name:""}}},computed:{get_field_class:function(){return this.state.class}},methods:{validate:function(){var t=this.form.name,e=(this.$refs.field_name,Jt.length(t,this.attrs.name.min,this.attrs.name.max)),s="field field-result ";return null===e&&(this.state.class=s),this.state.class=e?s+"pass":s+"fail",e},name_update:function(){var t=this.validate();if(t){var e=this.$store.getters["player/get_player"],s=this.$store.getters["game/get_game"],a=e.data.name!==this.form.name;if(!a&&s.joined)return void this.window_hide();if(a&&s.joined)return this.$root.$emit("player.update",this.form.name),void this.$refs.btnOK.$emit("state","waiting");e.data.name=this.form.name,this.$store.dispatch("player/set_player",e),this.$refs.btnOK.$emit("state","waiting"),this.$root.$emit("player.check")}},message:function(t){this.$refs.msgObj.$emit("message",t)},window_show:function(){var t=this.$store.getters["player/get_player"];this.form.name=t.data.name;var e=this.$store.getters["game/get_game"];e.joined?(this.button.label="Update",this.state.lock=!1):(this.button.label="Join",this.state.lock=!0),this.state.remove=!1,this.state.display=!0,this.$root.$on("player.message",this.message)},window_hide:function(){var t=this.$store.getters["game/get_game"];if(t.joined&&(this.state.lock=!1),this.state.lock){var e=this.validate();if(null===e||!e)return}else{this.state.display=!1,this.$root.$emit("player.closed");var s=this;setTimeout(function(){s.state.remove=!0,s.$root.$off("player.message",this.message)},1e3)}},exit:function(){this.$root.$off("player.show",this.window_show),this.$root.$off("player.hide",this.window_hide)}},mounted:function(){this.$root.$on("player.show",this.window_show),this.$root.$on("player.hide",this.window_hide)},beforeDestroy:function(){this.exit()},components:{"c-button":ae,"c-popup":Je,"c-message":de,"c-field-result":Wt}},an=sn,nn=(s("cfcf"),Object(u["a"])(an,tn,en,!1,null,null,null)),on=nn.exports,rn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div")},cn=[],ln={name:"cUpdateInstance",mixins:[Y],data:function(){return{attrs:{server:{max_timeouts:5,timing:1e3},action:Object},state:{timeouts:0,init:!1},words:[]}},methods:{setup:function(){this.attrs.action=this.$store.getters["instance/get_action"],this.words=this.$store.getters["game/get_words"],this.state.init=!0,this.attrs.action.method="PUT",this.attrs.action.JSON=!0},update_word:function(t,e){this.state.init||this.setup(),this.$store.dispatch("game/submit_word",t),t.selected?e.player.word={remove:t.word}:e.player.word={add:t.word},this.attrs.action.method="PUT",this.attrs.action.body=e,this.attrs.action.body.player.url=this.$store.getters["player/get_url"];var s=this;s.onSubmit(s.attrs.action,s,null,null,s.update_success,s.update_error)},update_player:function(t){this.state.init||this.setup();var e=this.$store.getters["game/get_game"],s=this.$store.getters["player/get_player"];e.joined&&""!==s.url&&(this.attrs.action.body={player:{url:s.url,name:{update:t}}}),this.attrs.action.method="PUT";var a=this;a.onSubmit(a.attrs.action,a,null,null,a.update_success,a.update_error)},update_success:function(t){if(Ca.game(t,this),void 0!==t.data.word&&(void 0!==t.data.word.add&&this.$store.dispatch("game/add_word",t.data.word.add),void 0!==t.data.word.remove&&this.$store.dispatch("game/remove_word",t.data.word.remove),void 0!==t.data.data.score)){var e={data:{score:t.data.data.score}};this.$store.dispatch("player/set_player",e)}if(void 0!==t.data.name){var s=this.$store.getters["player/get_player"];s.data.name=t.data.name.update,this.$store.dispatch("player/set_player",s);var a={class:"text success colour-fill-bg",message:t.message};this.$root.$emit("player.message",a);var n=this;setTimeout(function(){n.$root.$emit("player.hide")},2e3)}},update_error:function(t){Ca.game(t,this);var e={class:"text error colour-fill-bg",message:t.message};this.$root.$emit("player.message",e)},exit:function(){this.$root.$off("player.word",this.update_word),this.$root.$off("player.update",this.update_player)}},mounted:function(){this.$root.$on("player.word",this.update_word),this.$root.$on("player.update",this.update_player)},beforeDestroy:function(){this.exit()}},un=ln,dn=Object(u["a"])(un,rn,cn,!1,null,null,null),mn=dn.exports,fn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"wrds_holder",staticClass:"words-holder anim-6",class:{"words-lock":!t.is_ready,"words-ready":t.is_ready}},[s("div",{ref:"wrds_holder_inner"},[s("transition-group",{attrs:{name:"task2",tag:"div"}},t._l(t.words_list,function(e,a){return s("c-word",{key:e.id,style:t.get_style_task(a),attrs:{input:e}})}),1)],1)])},hn=[],pn=(s("55dd"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-button",{ref:"word_btn",staticClass:"word-button",class:{"word-selected":t.selected,"word-waiting":t.waiting},attrs:{onClick:t.toggle}},[t._v("\n\n\t\t"+t._s(t.input.word)+"\n\n")])}),gn=[],_n={name:"cWord",data:function(){return{state:{init:!1}}},props:{input:Object},computed:{waiting:function(){return!!this.input.waiting&&(this.state.init&&this.$refs.word_btn.$emit("state","waiting"),!0)},selected:function(){return!!this.input.selected&&(this.state.init&&this.$refs.word_btn.$emit("state","success"),!0)}},methods:{reset:function(){var t=this;setTimeout(function(){t.state.init=!0,void 0!==t.$refs.word_btn&&t.$refs.word_btn.$emit("state","reset")},1)},toggle:function(){var t={player:{url:"",word:{}}};this.input.selected?t.player.word={remove:this.input.word}:t.player.word={add:this.input.word},this.$root.$emit("player.word",this.input,t)},exit:function(){this.$root.$off("player.words.reset",this.reset)}},mounted:function(){this.reset(),this.$root.$on("player.words.reset",this.reset)},beforeDestroy:function(){this.exit()},components:{"c-button":ae}},vn=_n,bn=(s("853e"),Object(u["a"])(vn,pn,gn,!1,null,null,null)),wn=bn.exports,yn=function(t){for(var e=[],s=0;s<t.length;s++)e.push(t[s]);for(var a=e.length-1;a>=0;a--){var n=Math.floor(Math.random()*(a+1)),i=e[a];e[a]=e[n],e[n]=i}return e},$n=function(t){var e=0;if(0==t.length)return e;for(var s=0;s<t.length;s++){var a=t.charCodeAt(s);e=(e<<5)-e+a,e&=e}return e},xn={name:"cWords",data:function(){return{timing:{delay_render:1.66,delay_each_item:250},rendered:!1}},computed:{words_list:function(){return this.$store.getters["game/get_words"]},is_ready:function(){var t=this.$store.getters["game/get_game"];return"playing"===t.mode}},methods:{setup:function(){for(var t=[],e=this.$store.getters["instance/get_instance"].data.game.display,s=yn(this.$store.getters["board/get_words"]),a=0;a<e;a++){var n={word:s[a],waiting:!1,selected:!1,id:$n(s[a])};t.push(n)}t.sort(function(t,e){return e.word.length-t.word.length});var i=this;function o(t,s){setTimeout(function(){for(var a=[],n=0;n<t;n++)a.push(s[n]);i.$store.dispatch("game/set_words",a),a.length===e&&i.$store.dispatch("game/set_game",{})},t*i.timing.delay_each_item)}var r=i.timing.delay_render;this.rendered?this.$store.dispatch("game/set_words",[]):(r=0,this.rendered=!0),setTimeout(function(){for(var e=0;e<=t.length;e++)o(e,t)},1e3*r)},get_style_task:function(t){var e=this.words_list.length-t;return{"--i":t+1,"--inv-i":e-1}},exit:function(){this.$store.dispatch("game/set_words",[]),this.$root.$off("player.words.reset",this.setup)}},mounted:function(){this.$root.$on("player.words.reset",this.setup)},beforeDestroy:function(){this.exit()},components:{"c-word":wn}},Cn=xn,jn=(s("45ce"),Object(u["a"])(Cn,fn,hn,!1,null,null,null)),kn=jn.exports,Sn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.state.remove?t._e():s("c-popup",{attrs:{onShow:t.state.display,extraClass:t.attrs.extraClass,onClick:t.window_click}},[t.state.type.lost?s("div",[s("p",[t._v(" "+t._s(t.state.message)+" ")]),s("br"),s("c-button",{ref:"btn",attrs:{onClick:t.button_done}},[s("p",{staticClass:"colour-fill-bg-inv"},[t._v("\n\t\t\t\t\t\t\tDone\n\t\t\t\t\t\t")])])],1):t._e(),t.state.type.won?s("div",[s("p",[t._v(" "+t._s(t.state.message)+" ")]),s("br"),s("c-button",{ref:"btn",attrs:{onClick:t.button_done}},[s("p",{staticClass:"colour-fill-bg-inv"},[t._v("\n\t\t\t\t\t\t\tDone\n\t\t\t\t\t\t")])])],1):t._e(),t.state.type.kicked?s("div",[s("p",[t._v(" "+t._s(t.state.message)+" ")]),s("br"),s("c-button",{ref:"btn",attrs:{onClick:t.button_rejoin}},[s("p",{staticClass:"colour-fill-bg-inv"},[t._v("\n\t\t\t\t\t\tRejoin\n\t\t\t\t\t")])])],1):t._e(),s("p",{staticClass:"text"},[t._v("\n\t\t\t( "+t._s(t.state.time)+" )\n\t\t")]),s("c-message",{ref:"msgObj"})],1)},On=[],En=null,Tn={name:"cGameWindow",data:function(){return{attrs:{extraClass:"bullshit-menu"},state:{remove:!0,display:!1,lock:!1,class:"",type:{lost:!1,won:!1,kicked:!1},message:"",time:30}}},computed:{get_field_class:function(){return this.state.class}},methods:{message:function(t){this.$refs.msgObj.$emit("message",t)},type_reset:function(){this.state.type.won=!1,this.state.type.lost=!1,this.state.type.kicked=!1,this.state.time=30},game_won:function(){this.type_reset(),this.state.type.won=!0,this.state.message="You are the Winner!",this.state.lock=!0,this.window_show()},game_lost:function(){this.type_reset(),this.state.type.lost=!0;var t=this.$store.getters["game/get_winner"];this.state.message=t.data.name+" is the Winner!",this.state.lock=!0,this.window_show()},game_kicked:function(){this.type_reset(),this.state.type.kicked=!0,this.state.message="You have been removed!",this.state.lock=!0,this.window_show()},button_rejoin:function(){this.time_off(),this.$refs.btn.$emit("state","waiting"),this.$root.$emit("player.rejoin")},button_done:function(){this.time_off(),this.$refs.btn.$emit("state","waiting");var t=this;setTimeout(function(){t.window_hide(),t.$router.push("/")},2e3)},time_start:function(){this.time_repeat()},time_repeat:function(){var t=this;En=setTimeout(function(){t.time_tick()},1e3)},time_tick:function(){this.state.time-=1,this.state.time<1?this.button_done():this.time_repeat()},time_off:function(){clearTimeout(En)},window_show:function(){this.state.remove=!1,this.state.display=!0,this.$root.$on("player.message",this.message),this.$root.$on("player.hide",this.window_hide),this.time_start()},window_click:function(){this.state.lock||this.window_hide()},window_hide:function(){this.state.display=!1,this.time_off();var t=this;setTimeout(function(){t.state.remove=!0,t.$root.$off("player.message",this.message),t.$root.$off("player.hide",this.window_hide)},1e3)},exit:function(){this.$root.$off("game.won",this.game_won),this.$root.$off("game.lost",this.game_lost),this.$root.$off("game.kicked",this.game_kicked),this.time_off()}},mounted:function(){this.$root.$on("game.won",this.game_won),this.$root.$on("game.lost",this.game_lost),this.$root.$on("game.kicked",this.game_kicked)},beforeDestroy:function(){this.exit()},components:{"c-button":ae,"c-popup":Je,"c-message":de}},Pn=Tn,Dn=(s("a8aa"),Object(u["a"])(Pn,Sn,On,!1,null,null,null)),Nn=Dn.exports,qn={name:"BoardGame",data:function(){return{attrs:{}}},computed:{board_name:function(){return this.$store.getters["board/get_board"].data.name},game_state:function(){return this.$store.getters["game/get_game"]},game_ready:function(){var t=this.$store.getters["game/get_game"].mode;return"playing"===t}},methods:{init:function(){this.$root.$on("reset.success",this.reset_success),this.$root.$on("reset.fail",this.reset_fail)},messageShow:function(t){},reset:function(){this.$root.$emit("player.reset"),this.$root.$emit("player.words.reset"),void 0!==this.$refs.btnReset&&this.$refs.btnReset.$emit("state","waiting")},reset_success:function(){void 0!==this.$refs.btnReset&&this.$refs.btnReset.$emit("state","message","Ready")},reset_fail:function(){void 0!==this.$refs.btnReset&&this.$refs.btnReset.$emit("state","message","Error")},exit:function(){this.$root.$off("reset.success",this.reset_success),this.$root.$off("reset.fail",this.reset_fail)}},mounted:function(){this.init()},beforeDestroy:function(){this.exit()},components:{"c-panel":Et,"c-button":ae,"c-message":de,"c-game-words":kn,"c-init-board":ha,"c-init-instance":Ea,"c-init-player":Ba,"c-player":Ja,"c-players":Va,"c-window-player":on,"c-window-game":Nn,"c-update-instance":mn}},Bn=qn,Rn=Object(u["a"])(Bn,ra,ca,!1,null,null,null),An=Rn.exports;a["a"].use(C["a"]);var Ln=function(t,e,s){if("user"!==t.meta.type&&"admin"!==t.meta.type)return s();var a=G.getters["user/get_user"],n="user"===a.role,i="admin"===a.role;return"user"===t.meta.type&&(n||i)?s():"admin"===t.meta.type&&i?s():s({path:"/login"})},In=new C["a"]({mode:"history",base:"/",routes:[{path:"/",name:"index",component:Nt},{path:"/register",name:"register",component:pe},{path:"/login",name:"login",component:ye},{path:"/logout",name:"logout",component:Se,meta:{type:"user"},beforeEnter:Ln},Object(x["a"])({path:"/account",name:"account",component:Ke,beforeEnter:Ln,meta:{type:"user"}},"beforeEnter",Ln),{path:"/admin/request",name:"adminrequest",component:Rs,meta:{type:"user"},beforeEnter:Ln},{path:"/admin",name:"admin",component:Ts,meta:{type:"admin"},beforeEnter:Ln},{path:"/board/create",name:"board create",component:Hs},{path:"/board/:board",name:"board lobby",component:oa},{path:"/instance/:instance",name:"board game",component:An}]});s("6b54");function zn(t,e){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,i=new XMLHttpRequest;i.open(e,t,!0),s&&i.setRequestHeader("Content-Type","application/json; charset=UTF-8");var o=Un();o.length>5&&i.setRequestHeader("Authorization","Bearer "+o),i.send(a),i.onload=function(){if(this.status>=200&&this.status<300)return n(null,JSON.parse(this.responseText));var t={};try{t=JSON.parse(this.responseText.toString("ascii"))}catch(s){var e=this.statusText;return 0===e.length&&(e="No network connection."),n({status:this.status,message:this.statusText})}return n(t)},i.ontimeout=function(){return n(this.response)},i.onerror=function(){var t=this.statusText;return 0===t.length&&(t="No network connection."),n({status:this.status,message:t})}}var Jn="";function Mn(t){Jn=t.length<=5?"":t}function Un(){return Jn}function Gn(){var t=window.localStorage.getItem("tokenStringKube");Mn(t)}function Fn(t,e){t.preventDefault();var s=t.target.action,a=t.target.method,n=new FormData(t.target);zn(s,a,!1,n,function(t,s){return t?e(t):e(null,s)})}function Kn(t,e){var s={},a=t.JSON||!1;void 0!==t.body&&a&&(s=JSON.stringify(t.body)),zn(t.url,t.method,a,s,function(t,s){return t?e(t):e(null,s)})}var Wn={request_url:Kn,request_url_form:Fn,set_SecureKey:Mn,get_SecureKey:Un,get_SecureKeyFile:Gn},Hn={install:function(t){t.prototype.$request=Wn}};a["a"].config.productionTip=!0,a["a"].use(Hn),new a["a"]({router:In,store:G,render:function(t){return t($)}}).$mount("#app")},"5bb6":function(t,e,s){},"5cbe":function(t,e,s){"use strict";var a=s("1323"),n=s.n(a);n.a},6060:function(t,e,s){"use strict";var a=s("fff1"),n=s.n(a);n.a},"6a1c":function(t,e,s){},7166:function(t,e,s){},7182:function(t,e,s){},7554:function(t,e,s){"use strict";var a=s("7182"),n=s.n(a);n.a},"80a3":function(t,e,s){"use strict";var a=s("862e"),n=s.n(a);n.a},8448:function(t,e,s){"use strict";var a=s("6a1c"),n=s.n(a);n.a},"853e":function(t,e,s){"use strict";var a=s("ab6b"),n=s.n(a);n.a},"862e":function(t,e,s){},"8b44":function(t,e,s){"use strict";var a=s("aad9"),n=s.n(a);n.a},"908a":function(t,e,s){"use strict";var a=s("37ac"),n=s.n(a);n.a},9754:function(t,e,s){},"98bc":function(t,e,s){"use strict";var a=s("5bb6"),n=s.n(a);n.a},a093:function(t,e,s){},a176:function(t,e,s){},a5f9:function(t,e,s){},a890:function(t,e,s){"use strict";var a=s("3c04"),n=s.n(a);n.a},a8aa:function(t,e,s){"use strict";var a=s("33b5"),n=s.n(a);n.a},aad9:function(t,e,s){},ab6b:function(t,e,s){},aff9:function(t,e,s){},b3b9:function(t,e,s){"use strict";var a=s("b716"),n=s.n(a);n.a},b716:function(t,e,s){},b71a:function(t,e,s){"use strict";var a=s("268b"),n=s.n(a);n.a},b935:function(t,e,s){"use strict";var a=s("3979"),n=s.n(a);n.a},ba6b:function(t,e,s){},ba83:function(t,e,s){"use strict";var a=s("e81b"),n=s.n(a);n.a},bd61:function(t,e,s){},bde0:function(t,e,s){},c220:function(t,e,s){},cef0:function(t,e,s){"use strict";var a=s("3927"),n=s.n(a);n.a},cfcf:function(t,e,s){"use strict";var a=s("bd61"),n=s.n(a);n.a},d955:function(t,e,s){"use strict";var a=s("9754"),n=s.n(a);n.a},db10:function(t,e,s){"use strict";var a=s("aff9"),n=s.n(a);n.a},e81b:function(t,e,s){},fcec:function(t,e,s){},ff4e:function(t,e,s){},fff1:function(t,e,s){}});
//# sourceMappingURL=app.646d6b65.js.map