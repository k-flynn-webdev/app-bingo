(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6d35"],{"73cf":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("c-panel",[s("template",{slot:"header"},[t._v("\n\t\tAccount Register\n\t")]),s("form",{staticClass:"form",attrs:{action:"/api/account/create",method:"POST"},on:{submit:function(a){return a.preventDefault(),t.onLogin(a)}}},[s("c-account-input",{attrs:{input:t.form}}),s("c-message",{ref:"msgSubmit",staticClass:"colour-fill-bg-inv"}),s("br"),s("c-button",{ref:"btnSubmit"},[t._v("\n\t\t\t\tRegister\n\t\t\t")])],1),s("template",{slot:"footer"},[s("p",{staticClass:"colour-fill-bg-inv"},[t._v("\n\t\t\tAlready have an account,\n\n\t\t\t"),s("router-link",{staticClass:"colour-fill-accent",attrs:{to:"/login"}},[t._v("\n\t\t\t\t\tlogin.\n\t\t\t")])],1)])],2)},i=[],n=(s("7f7f"),s("d0a4")),o=s("b99b"),r=s("4240"),u=s("e82d"),c=s("a42b"),l=s("f979"),m={name:"Register",mixins:[c["a"]],data:function(){return{attrs:{validate:{max:30,name:3,password:7},server:{max_timeouts:5,timing:1500},action:Object},state:{init:!1,timeouts:0},form:{name:{show:!0,isRequired:!0,value:""},email:{show:!0,isRequired:!0,value:""},password:{show:!0,isRequired:!0,value:""},validate:!0}}},methods:{init:function(){if(!this.state.init){var t={url:"/api/account/create",method:"POST",JSON:!0,body:{name:"",email:"",password:""}};this.attrs.action=t,this.state.init=!0}},onLogin:function(t){if(l["a"].email(this.form.email.value)&&l["a"].length(this.form.password.value,this.attrs.validate.password,100)&&l["a"].length(this.form.name.value,this.attrs.validate.name,this.attrs.validate.max)){this.attrs.action.body.name=this.form.name.value,this.attrs.action.body.email=this.form.email.value,this.attrs.action.body.password=this.form.password.value;var a=this;this.onSubmit(this.attrs.action,a,a.$refs.btnSubmit,a.$refs.msgSubmit,a.onSuccess,a.onError)}},onSuccess:function(t){var a=this;a.$refs.btnSubmit.$emit("state","message","Hello!"),a.$store.dispatch("user/login_success",t.token),setTimeout(function(){a.$router.push("/")},2e3)},onError:function(t){this.state.timeouts<this.attrs.server.max_timeouts&&(this.$refs.btnSubmit.$emit("state","message","Error!"),t.status)}},mounted:function(){this.init()},components:{"c-account-input":n["a"],"c-button":o["a"],"c-message":u["a"],"c-panel":r["a"]}},f=m,h=s("2877"),d=Object(h["a"])(f,e,i,!1,null,null,null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0d6d35.7f6a306a.js.map