{"version":3,"sources":["webpack:///./src/views/Register.vue?cfaf","webpack:///src/views/Register.vue","webpack:///./src/views/Register.vue?382a","webpack:///./src/views/Register.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","slot","_v","staticClass","attrs","action","method","on","submit","$event","preventDefault","onLogin","input","form","ref","to","staticRenderFns","Registervue_type_script_lang_js_","name","mixins","h_submit","data","validate","max","password","server","max_timeouts","timing","Object","state","init","timeouts","show","isRequired","value","email","methods","object","url","JSON","body","event","h_validate_input","length","self","onSubmit","$refs","btnSubmit","msgSubmit","onSuccess","onError","$emit","$store","dispatch","token","setTimeout","$router","push","status","mounted","components","c-account-input","c_account_input","c-button","c_button","c-message","c_message","c-panel","c_panel","views_Registervue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0d6d35.7f6a306a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('c-panel',[_c('template',{slot:\"header\"},[_vm._v(\"\\n\\t\\tAccount Register\\n\\t\")]),_c('form',{staticClass:\"form\",attrs:{\"action\":\"/api/account/create\",\"method\":\"POST\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onLogin($event)}}},[_c('c-account-input',{attrs:{\"input\":_vm.form}}),_c('c-message',{ref:\"msgSubmit\",staticClass:\"colour-fill-bg-inv\"}),_c('br'),_c('c-button',{ref:\"btnSubmit\"},[_vm._v(\"\\n\\t\\t\\t\\tRegister\\n\\t\\t\\t\")])],1),_c('template',{slot:\"footer\"},[_c('p',{staticClass:\"colour-fill-bg-inv\"},[_vm._v(\"\\n\\t\\t\\tAlready have an account,\\n\\n\\t\\t\\t\"),_c('router-link',{staticClass:\"colour-fill-accent\",attrs:{\"to\":\"/login\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\tlogin.\\n\\t\\t\\t\")])],1)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n\t<c-panel>\n\t\t<template slot=\"header\">\n\t\t\tAccount Register\n\t\t</template>\n\n\t\t<form \n\t\t\tclass=\"form\" \n\t\t\taction=\"/api/account/create\" \n\t\t\tmethod =\"POST\" \n\t\t\t@submit.prevent=\"onLogin\">\n\n\t\t\t\t<c-account-input \n\t\t\t\t\tv-bind:input=form>\n\t\t\t\t</c-account-input>\n\t\t\t\t\n\t\t\t\t<c-message \n\t\t\t\t\tref=\"msgSubmit\"\n\t\t\t\t\tclass=\"colour-fill-bg-inv\">\t\t\n\t\t\t\t</c-message>\n\n\t\t\t\t<br>\n\n\t\t\t\t<c-button \n\t\t\t\t\tref=\"btnSubmit\">\n\t\t\t\t\tRegister\n\t\t\t\t</c-button>\n\n\t\t</form>\n\n\t\t<template slot=\"footer\">\n\n\t\t\t<p class=\"colour-fill-bg-inv\">\n\t\t\t\tAlready have an account,\n\n\t\t\t\t<router-link \n\t\t\t\t\tclass=\"colour-fill-accent\"\n\t\t\t\t\tto=\"/login\">\n\t\t\t\t\t\tlogin.\n\t\t\t\t</router-link>\n\n\t\t\t</p>\n\n\t\t</template>\n\n\t</c-panel>\n\n</template>\n\n<script>\n\n\timport AccountInput from '../components/c_account_input.vue';\n\timport Button from '../components/c_button.vue';\n\timport Panel from '../components/c_panel.vue';\n\timport Message from '../components/c_message.vue';\n\n\timport { submit } from '../mixins/h_submit.js';\n\n\timport Validate from '../helpers/h_validate_input.js';\n\n\texport default {\n\t\tname: 'Register',\n\t\tmixins: [ submit ],\t\t\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tattrs : {\n\t\t\t\t\tvalidate : {\n\t\t\t\t\t\tmax : 30,\n\t\t\t\t\t\tname : 3,\n\t\t\t\t\t\tpassword : 7,\n\t\t\t\t\t},\t\t\t\t\t\n\t\t\t\t\tserver : {\n\t\t\t\t\t\tmax_timeouts : 5,\n\t\t\t\t\t\ttiming : 1500,\n\t\t\t\t\t},\n\t\t\t\t\taction : Object,\n\t\t\t\t},\t\n\t\t\t\tstate : {\n\t\t\t\t\tinit : false,\n\t\t\t\t\ttimeouts : 0,\n\t\t\t\t},\n\n\t\t\t\tform : {\n\t\t\t\t\tname : { \n\t\t\t\t\t\tshow : true, \n\t\t\t\t\t\tisRequired : true, \n\t\t\t\t\t\tvalue : '',\n\t\t\t\t\t},\n\t\t\t\t\temail : { \n\t\t\t\t\t\tshow : true, \n\t\t\t\t\t\tisRequired : true, \n\t\t\t\t\t\tvalue : '',\n\t\t\t\t\t},\n\t\t\t\t\tpassword : { \n\t\t\t\t\t\tshow : true, \n\t\t\t\t\t\tisRequired : true, \n\t\t\t\t\t\tvalue : '',\n\t\t\t\t\t},\n\t\t\t\t\tvalidate : true,\n\t\t\t\t},\t\t\t\n\t\t\t}\n\t\t},\n\t\n\t\tmethods:{\n\n\t\t\tinit : function(){\n\t\t\t\tif( !this.state.init ){\n\t\t\t\t\tlet object = {\n\t\t\t\t\t\turl : ('/api/account/create' ),\n\t\t\t\t\t\tmethod : 'POST',\n\t\t\t\t\t\tJSON : true,\n\t\t\t\t\t\tbody : {\n\t\t\t\t\t\t\tname : '',\n\t\t\t\t\t\t\temail : '',\n\t\t\t\t\t\t\tpassword : '',\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t\tthis.attrs.action = object;\n\t\t\t\t\tthis.state.init = true;\n\t\t\t\t}\n\t\t\t},\n\n\n\t\t\tonLogin : function( event ){\n\n\t\t\t\tif( !Validate.email( this.form.email.value ) || \n\t\t\t\t\t!Validate.length( this.form.password.value, this.attrs.validate.password, 100 ) ||\n\t\t\t\t\t!Validate.length( this.form.name.value, this.attrs.validate.name, this.attrs.validate.max )){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.attrs.action.body.name = this.form.name.value;\n\t\t\t\tthis.attrs.action.body.email = this.form.email.value;\n\t\t\t\tthis.attrs.action.body.password = this.form.password.value;\n\n\t\t\t\tlet self = this;\t\n\t\t\t\tthis.onSubmit( this.attrs.action, self, self.$refs.btnSubmit, self.$refs.msgSubmit, self.onSuccess, self.onError);\n\n\t\t\t},\n\t\t\tonSuccess : function( input ){\n\t\t\t\tlet self = this;\n\t\t\t\tself.$refs.btnSubmit.$emit( 'state' , 'message', 'Hello!' );\n\t\t\t\tself.$store.dispatch('user/login_success', input.token);\n\t\t\t\tsetTimeout( function(){\n\t\t\t\t\tself.$router.push( '/');\n\t\t\t\t}, 2000 );\n\t\t\t},\n\t\t\tonError : function( input ){\n\n\t\t\t\tif( this.state.timeouts < this.attrs.server.max_timeouts ){\n\n\t\t\t\t\tthis.$refs.btnSubmit.$emit( 'state' , 'message', 'Error!' );\n\n\t\t\t\t\tif( input.status !== 408 ){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// let self = this;\n\t\t\t\t\t// setTimeout( function(){\n\t\t\t\t\t// \tself.state.timeouts +=1\n\t\t\t\t\t// \tself.onSubmit(self.attrs.action, self, self.$refs.btnSubmit, self.$refs.msgSubmit, self.onSuccess, self.onError);\n\t\t\t\t\t// }, self.attrs.server.timing );\n\t\t\t\t}\n\t\t\t},\n\n\n\n\t\t},\n\t\tmounted(){\n\t\t\tthis.init();\n\t\t},\n\t\tcomponents: {\n\t\t\t'c-account-input' : AccountInput, \n\t\t\t'c-button' : Button,\n\t\t\t'c-message' : Message,\n\t\t\t'c-panel' : Panel,\n\t\t},\t\t\n}\n</script>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=55465060&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}