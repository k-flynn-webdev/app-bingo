{"version":3,"sources":["webpack:///./src/views/Logout.vue?a7a6","webpack:///src/views/Logout.vue","webpack:///./src/views/Logout.vue?a898","webpack:///./src/views/Logout.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","slot","_v","staticClass","attrs","action","method","on","submit","$event","preventDefault","onLogout","ref","staticRenderFns","Logoutvue_type_script_lang_js_","name","mixins","h_submit","data","server","max_timeouts","timing","Object","state","init","timeouts","methods","object","url","JSON","body","event","self","onSubmit","$refs","btnSubmit","msgSubmit","onSuccess","onError","input","$emit","$store","dispatch","logout","status","setTimeout","$router","push","mounted","components","c-button","c_button","c-message","c_message","c-panel","c_panel","views_Logoutvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"uHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,WAAAA,EAAA,YAAoCE,KAAA,UAAc,CAAAN,EAAAO,GAAA,8BAAAH,EAAA,QAAkDI,YAAA,OAAAC,MAAA,CAA0BC,OAAA,sBAAAC,OAAA,QAA+CC,GAAA,CAAKC,OAAA,SAAAC,GAAkD,OAAxBA,EAAAC,iBAAwBf,EAAAgB,SAAAF,MAA8B,CAAAV,EAAA,aAAkBa,IAAA,YAAAT,YAAA,uBAAiDJ,EAAA,MAAAA,EAAA,YAA0Ba,IAAA,aAAgB,CAAAjB,EAAAO,GAAA,uCACxcW,EAAA,mDCsCAC,EAAA,CACAC,KAAA,SACAC,OAAA,CAAAC,EAAA,MACAC,KAHA,WAIA,OACAd,MAAA,CACAe,OAAA,CACAC,aAAA,EACAC,OAAA,MAEAhB,OAAAiB,QAEAC,MAAA,CACAC,MAAA,EACAC,SAAA,KAKAC,QAAA,CAEAF,KAAA,WACA,IAAA5B,KAAA2B,MAAAC,KAAA,CACA,IAAAG,EAAA,CACAC,IAAA,sBACAtB,OAAA,OACAuB,MAAA,EACAC,KAAA,IAGAlC,KAAAQ,MAAAC,OAAAsB,EACA/B,KAAA2B,MAAAC,MAAA,IAIAb,SAAA,SAAAoB,GAEA,IAAAC,EAAApC,KACAA,KAAAqC,SAAArC,KAAAQ,MAAAC,OAAA2B,IAAAE,MAAAC,UAAAH,EAAAE,MAAAE,UAAAJ,EAAAK,UAAAL,EAAAM,UAGAD,UAAA,SAAAE,GACA,IAAAP,EAAApC,KACAoC,EAAAE,MAAAC,UAAAK,MAAA,8BACAR,EAAAS,OAAAC,SAAA,0BACAV,EAAAW,UAGAL,QAAA,SAAAC,GAEA,GAAA3C,KAAA2B,MAAAE,SAAA7B,KAAAQ,MAAAe,OAAAC,aAAA,CAIA,GAFAxB,KAAAsC,MAAAC,UAAAK,MAAA,4BAEA,MAAAD,EAAAK,OACA,OAGA,IAAAZ,EAAApC,KACAiD,WAAA,WACAb,EAAAT,MAAAE,UAAA,EACAO,EAAAC,SAAAD,EAAA5B,MAAAC,OAAA2B,IAAAE,MAAAC,UAAAH,EAAAE,MAAAE,UAAAJ,EAAAK,UAAAL,EAAAM,UACAN,EAAA5B,MAAAe,OAAAE,UAGAsB,OAAA,WACA,IAAAX,EAAApC,KACAiD,WAAA,WACAb,EAAAc,QAAAC,KAAA,MACA,OAIAC,QAzEA,WA0EApD,KAAA4B,QAEAyB,WAAA,CACAC,WAAAC,EAAA,KACAC,YAAAC,EAAA,KACAC,UAAAC,EAAA,OCtHgVC,EAAA,cCOhVC,EAAgBnC,OAAAoC,EAAA,KAAApC,CACdkC,EACA9D,EACAmB,GACF,EACA,KACA,KACA,MAIe8C,EAAA,WAAAF","file":"js/chunk-2d215fa4.dcfd311f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('c-panel',[_c('template',{slot:\"header\"},[_vm._v(\"\\n\\t\\tAccount Logout\\n\\t\")]),_c('form',{staticClass:\"form\",attrs:{\"action\":\"/api/account/logout\",\"method\":\"POST\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onLogout($event)}}},[_c('c-message',{ref:\"msgSubmit\",staticClass:\"colour-fill-bg-inv\"}),_c('br'),_c('c-button',{ref:\"btnSubmit\"},[_vm._v(\"\\n\\t\\t\\t\\tLogout\\n\\t\\t\\t\")])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n\t<c-panel>\n\t\t<template slot=\"header\">\n\t\t\tAccount Logout\n\t\t</template>\n\n\t\t<form \n\t\t\tclass=\"form\" \n\t\t\taction=\"/api/account/logout\" \n\t\t\tmethod =\"POST\" \n\t\t\t@submit.prevent=\"onLogout\">\n\t\t\t\t\n\t\t\t\t<c-message \n\t\t\t\t\tref=\"msgSubmit\"\n\t\t\t\t\tclass=\"colour-fill-bg-inv\">\t\t\n\t\t\t\t</c-message>\n\n\t\t\t\t<br>\n\n\t\t\t\t<c-button \n\t\t\t\t\tref=\"btnSubmit\">\n\t\t\t\t\tLogout\n\t\t\t\t</c-button>\n\n\t\t</form>\n\n\t</c-panel>\n\n</template>\n\n<script>\n\n\timport Button from '../components/c_button.vue';\n\timport Panel from '../components/c_panel.vue';\n\timport Message from '../components/c_message.vue';\n\n\timport { submit } from '../mixins/h_submit.js';\n\n\texport default {\n\t\tname: 'Logout',\n\t\tmixins: [ submit ],\t\t\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tattrs : {\t\t\t\t\n\t\t\t\t\tserver : {\n\t\t\t\t\t\tmax_timeouts : 5,\n\t\t\t\t\t\ttiming : 1500,\n\t\t\t\t\t},\n\t\t\t\t\taction : Object,\n\t\t\t\t},\t\n\t\t\t\tstate : {\n\t\t\t\t\tinit : false,\n\t\t\t\t\ttimeouts : 0,\n\t\t\t\t},\t\t\t\n\t\t\t}\n\t\t},\n\t\n\t\tmethods:{\n\n\t\t\tinit : function(){\n\t\t\t\tif( !this.state.init ){\n\t\t\t\t\tlet object = {\n\t\t\t\t\t\turl : ('/api/account/logout' ),\n\t\t\t\t\t\tmethod : 'POST',\n\t\t\t\t\t\tJSON : false,\n\t\t\t\t\t\tbody : {\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t\tthis.attrs.action = object;\n\t\t\t\t\tthis.state.init = true;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonLogout : function( event ){\n\n\t\t\t\tlet self = this;\t\n\t\t\t\tthis.onSubmit( this.attrs.action, self, self.$refs.btnSubmit, self.$refs.msgSubmit, self.onSuccess, self.onError);\n\n\t\t\t},\n\t\t\tonSuccess : function( input ){\n\t\t\t\tlet self = this;\n\t\t\t\tself.$refs.btnSubmit.$emit( 'state' , 'message', 'GoodBye!' );\n\t\t\t\tself.$store.dispatch('user/logout_success', '');\n\t\t\t\tself.logout();\n\t\t\t\t\n\t\t\t},\n\t\t\tonError : function( input ){\n\n\t\t\t\tif( this.state.timeouts < this.attrs.server.max_timeouts ){\n\n\t\t\t\t\tthis.$refs.btnSubmit.$emit( 'state' , 'message', 'Error!' );\n\n\t\t\t\t\tif( input.status !== 408 ){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet self = this;\n\t\t\t\t\tsetTimeout( function(){\n\t\t\t\t\t\tself.state.timeouts +=1\n\t\t\t\t\t\tself.onSubmit(self.attrs.action, self, self.$refs.btnSubmit, self.$refs.msgSubmit, self.onSuccess, self.onError);\n\t\t\t\t\t}, self.attrs.server.timing );\n\t\t\t\t}\n\t\t\t},\n\t\t\tlogout : function(){\n\t\t\t\tlet self = this;\n\t\t\t\tsetTimeout( function(){\n\t\t\t\t\tself.$router.push( '/' );\n\t\t\t\t}, 2000);\n\t\t\t},\t\t\t\n\n\t\t},\n\t\tmounted(){\n\t\t\tthis.init();\n\t\t},\n\t\tcomponents: {\n\t\t\t'c-button' : Button,\n\t\t\t'c-message' : Message,\n\t\t\t'c-panel' : Panel,\n\t\t},\t\t\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Logout.vue?vue&type=template&id=28875bd6&\"\nimport script from \"./Logout.vue?vue&type=script&lang=js&\"\nexport * from \"./Logout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}