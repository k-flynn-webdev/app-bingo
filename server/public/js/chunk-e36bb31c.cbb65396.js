(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e36bb31c"],{"25fd":function(t,e,s){"use strict";var i=s("8b37"),n=s.n(i);n.a},"2f21":function(t,e,s){"use strict";var i=s("79e5");t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},"2f9c":function(t,e,s){"use strict";var i=s("7026"),n=s.n(i);n.a},"386b":function(t,e,s){var i=s("5ca1"),n=s("79e5"),a=s("be13"),o=/"/g,r=function(t,e,s,i){var n=String(a(t)),r="<"+e;return""!==s&&(r+=" "+s+'="'+String(i).replace(o,"&quot;")+'"'),r+">"+n+"</"+e+">"};t.exports=function(t,e){var s={};s[t]=e(r),i(i.P+i.F*n(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",s)}},3927:function(t,e,s){},"42c6":function(t,e,s){"use strict";var i=s("5a9b"),n=s.n(i);n.a},4917:function(t,e,s){"use strict";var i=s("cb7c"),n=s("9def"),a=s("0390"),o=s("5f1b");s("214f")("match",1,function(t,e,s,r){return[function(s){var i=t(this),n=void 0==s?void 0:s[e];return void 0!==n?n.call(s,i):new RegExp(s)[e](String(i))},function(t){var e=r(s,t,this);if(e.done)return e.value;var l=i(t),c=String(this);if(!l.global)return o(l,c);var u=l.unicode;l.lastIndex=0;var h,d=[],m=0;while(null!==(h=o(l,c))){var f=String(h[0]);d[m]=f,""===f&&(l.lastIndex=a(c,n(l.lastIndex),u)),m++}return 0===m?null:d}]})},"55dd":function(t,e,s){"use strict";var i=s("5ca1"),n=s("d8e8"),a=s("4bf8"),o=s("79e5"),r=[].sort,l=[1,2,3];i(i.P+i.F*(o(function(){l.sort(void 0)})||!o(function(){l.sort(null)})||!s("2f21")(r)),"Array",{sort:function(t){return void 0===t?r.call(a(this)):r.call(a(this),n(t))}})},"5a43":function(t,e,s){"use strict";var i=s("8571"),n=s.n(i);n.a},"5a9b":function(t,e,s){},6060:function(t,e,s){"use strict";var i=s("fff1"),n=s.n(i);n.a},7026:function(t,e,s){},8571:function(t,e,s){},"8b37":function(t,e,s){},"8b44":function(t,e,s){"use strict";var i=s("aad9"),n=s.n(i);n.a},aad9:function(t,e,s){},abe4:function(t,e,s){"use strict";var i=s("b2c3"),n=s.n(i);n.a},b2c3:function(t,e,s){},c8a6:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("div",{staticClass:"center-auto-h width-95"},[s("c-init-instance"),s("c-init-board"),s("c-init-player"),s("c-window-game"),s("c-window-player"),s("c-update-instance"),s("p",{staticClass:"poster colour-fill-pop bingo-header"},[t._v("\n\t\t\t"+t._s(t.board_name)+"\n\t\t")]),s("div",{staticClass:"options-bar"},[s("c-players"),s("c-player")],1),s("c-game-lines"),s("br"),s("div",{staticClass:"options-bar"},[s("c-button",{ref:"btnReset",staticClass:"border-white",class:{"game-ready":t.game_ready},attrs:{onClick:t.reset}},[t._v("\n\t\t\t\t\tReset\n\t\t\t")]),s("c-button-share",{staticClass:"text-right",staticStyle:{position:"absolute",right:"0",top:"-.25rem"},attrs:{content:t.share.link}})],1)],1)])},n=[],a=(s("7f7f"),s("4240")),o=s("b99b"),r=s("e67e"),l=s("d652"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div")},u=[],h=s("a42b"),d={name:"cInitBoard",mixins:[h["a"]],data:function(){return{attrs:{server:{max_timeouts:5,timing:1e3},action:Object},state:{timeouts:0}}},methods:{init:function(t){var e="/api/board/"+t,s={url:e,method:"GET",JSON:!1};this.$store.dispatch("board/set_action",s),this.$store.dispatch("board/set_board",{url:t}),this.attrs.action=s;var i=this;i.onSubmit(i.attrs.action,i,null,null,i.board_success,i.board_error)},board_success:function(t){this.$store.dispatch("board/set_board",t.data),this.$store.dispatch("game/set_game",{board:!0}),this.$root.$emit("player-lines-reset"),this.$root.$emit("player-check")},board_error:function(t){if(this.state.timeouts<this.attrs.server.max_timeouts){var e=this;setTimeout(function(){e.state.timeouts+=1,e.onSubmit(e.attrs.action,e,null,null,e.board_success,e.board_error)},e.attrs.server.timing)}},exit:function(){this.$root.$off("board-init",this.init),this.$store.dispatch("board/exit")}},mounted:function(){this.$root.$on("board-init",this.init)},beforeDestroy:function(){this.exit()}},m=d,f=s("2877"),p=Object(f["a"])(m,c,u,!1,null,null,null),g=p.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div")},$=[];function v(t){t.$store.dispatch("game/set_game",{result:""})}function b(t,e){t.$store.dispatch("game/set_game",{result:"won",winner:e}),t.$root.$emit("game-won")}function y(t,e){t.$store.dispatch("game/set_game",{result:"lost",winner:e}),t.$root.$emit("game-lost")}function w(t,e){k(t)}function x(t){k(t)}function k(t){t.$store.dispatch("game/set_game",{joined:!1}),t.$store.dispatch("player/exit"),t.$root.$emit("game-kicked")}function C(t,e){if(503!==t.status||void 0===t.message||"Instance does not have this player, please re-join."!==t.message)if(404!==t.status||void 0===t.message||"Instance is now closed, try starting another from the menu."!==t.message){if(void 0!==t.data&&void 0!==t.data.data&&void 0!==t.data.data.game&&void 0!==t.data.data.game.winner&&void 0!==t.data.data.game.winner.url){var s=t.data.data.game.winner.url,i=e.$store.getters["player/get_url"];if(t.data.data.game.win&&""!==s&&s===i)return b(e,t.data.data.game.winner);if(t.data.data.game.win&&""!==s&&s!==i)return y(e,t.data.data.game.winner);if(""===i)return v(e);for(var n=!1,a=e.$store.getters["instance/get_players"],o=0;o<a.length;o++)if(a[o].url===i){n=!0;break}return n?v(e):w(e,t)}}else w(e);else x(e)}var j={game:C},S=null,O={name:"cInitInstance",mixins:[h["a"]],data:function(){return{attrs:{server:{max_timeouts:5,timing:1e3,time_sec:8},action:Object},state:{timeouts:0,init:!1,stop:!1}}},methods:{init:function(){var t=this.$route.params.instance,e="/api/instance/"+t,s={url:e,method:"GET",JSON:!0};this.$store.dispatch("instance/set_action",s),this.$store.dispatch("instance/set_instance",{url:t}),this.attrs.action=s,S=this.instance_get()},init_success:function(t){if(!this.state.init){this.$store.dispatch("game/set_game",{instance:!0}),this.$store.dispatch("instance/set_instance",t.data),this.$root.$emit("board-init",t.data.data.board);var e=this;setTimeout(function(){e.$emit("trigger","Download success.")},1500),this.state.init=!0}},instance_get:function(){var t=this;t.onSubmit(t.attrs.action,t,null,null,t.instance_success,t.instance_error)},instance_start:function(){this.state.stop&&(this.state.stop=!1,this.instance_get())},instance_stop:function(){this.state.stop=!0,clearTimeout(S)},game_reset:function(){this.state.init=!1,this.init()},instance_success:function(t){var e=this;e.state.init||e.init_success(t),e.$store.dispatch("instance/set_players",t.data),S=setTimeout(e.instance_get,this.attrs.server.time_sec*this.attrs.server.timing),j.game(t,e)},instance_error:function(t){var e=this;j.game(t,e)},exit:function(){this.instance_stop(),this.$store.dispatch("instance/exit"),this.$store.dispatch("game/exit"),this.$root.$off("game-won",this.instance_stop),this.$root.$off("game-lost",this.instance_stop),this.$root.$off("game-kicked",this.instance_stop),this.$root.$off("game-stop",this.instance_stop),this.$root.$off("game-pre-reset",this.game_reset),this.$root.$off("game-reset",this.init),this.$root.$off("player-success",this.instance_start)}},mounted:function(){this.init(),this.$root.$on("game-won",this.instance_stop),this.$root.$on("game-lost",this.instance_stop),this.$root.$on("game-kicked",this.instance_stop),this.$root.$on("game-stop",this.instance_stop),this.$root.$on("game-pre-reset",this.game_reset),this.$root.$on("game-reset",this.init),this.$root.$on("player-success",this.instance_start)},beforeDestroy:function(){this.exit()}},T=O,E=Object(f["a"])(T,_,$,!1,null,null,null),P=E.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div")},D=[],N={name:"cInitPlayer",mixins:[h["a"]],data:function(){return{attrs:{server:{max_timeouts:5,timing:1e3},action:Object},state:{timeouts:0,init:!1}}},computed:{},methods:{check:function(){if(this.state.init||this.init(),""!==this.$store.getters["player/get_name"])return this.$store.getters["game/get_game"].joined||""!==this.$store.getters["player/get_url"]?void 0:(this.set_body(),void this.join());this.$root.$emit("player-show")},rejoin:function(){this.$root.$emit("player-lines-reset"),this.check()},init:function(){var t=this.$store.getters["instance/get_action"],e={url:t.url,method:t.method,JSON:t.JSON};this.attrs.action=e,this.set_body(),this.state.init=!0},set_body:function(){var t=this.$store.getters["player/get_url"],e=this.$store.getters["player/get_name"],s=this.$store.getters["player/get_score"],i={url:t,name:e,score:s};this.attrs.action.body=i,""===t?(this.attrs.action.method="POST",this.$store.getters["user/get_active"]&&(this.attrs.action.body.user=this.$store.getters["user/get_user_id"])):this.attrs.action.method="PUT"},join:function(){var t=this;t.onSubmit(t.attrs.action,t,null,null,t.join_success,t.join_error)},join_success:function(t){this.$store.dispatch("player/set_player",t.data),this.$store.dispatch("game/set_game",{joined:!0}),j.game(t,this);var e={class:"text success colour-fill-bg",message:t.message};this.$root.$emit("game-stop"),this.$root.$emit("player-message",e),this.$root.$emit("player-success");var s=this;setTimeout(function(){s.$root.$emit("player-hide"),s.$store.dispatch("game/set_game",{})},2e3)},join_error:function(t){this.$store.dispatch("game/set_game",{joined:!1}),this.$root.$emit("player-message",t.message),j.game(t,this);var e={class:"text error colour-fill-bg",message:t.message};this.$root.$emit("player-message",e);var s=this;setTimeout(function(){s.$root.$emit("player-hide")},3500)},reset:function(){this.state.init||this.init();var t={player:{url:this.$store.getters["player/get_url"],line:{reset:!0}}};this.attrs.action.method="PUT",this.attrs.action.body=t;var e=this;e.onSubmit(e.attrs.action,e,null,null,e.reset_success,e.reset_error)},reset_success:function(t){this.$root.$emit("reset-success"),this.join_success(t)},reset_error:function(t){j.game(t,this),this.$root.$emit("reset-fail"),console.log("error on reset"),console.log(t)},game_reset:function(){this.state.init=!1},remove:function(){var t=this.$store.getters["instance/get_action"],e=this.$store.getters["game/get_game"].joined;if(e){var s={url:t.url,method:"DELETE",JSON:!0};s.body={player:this.$store.getters["player/get_player"]};var i=this;i.onSubmit(s,i,null,null,function(){},function(){})}},exit:function(){this.$root.$off("player-check",this.check),this.$root.$off("player-reset",this.reset),this.$root.$off("player-rejoin",this.rejoin),this.$root.$off("player-remove",this.remove),this.$root.$off("game-pre-reset",this.game_reset),this.remove(),this.$store.dispatch("player/exit")}},mounted:function(){this.$root.$on("player-check",this.check),this.$root.$on("player-reset",this.reset),this.$root.$on("player-rejoin",this.rejoin),this.$root.$on("player-remove",this.remove),this.$root.$on("game-pre-reset",this.game_reset)},beforeDestroy:function(){this.exit()}},B=N,I=Object(f["a"])(B,R,D,!1,null,null,null),J=I.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hover-trigger player-holder",class:{"hover-force":t.state.display}},[s("div",{staticClass:"anim-6 title hover-message-left colour-bg-pop",staticStyle:{top:"45%"}},[s("p",{staticClass:"text-bold colour-fill-dark"},[t._v("\n\t\t\t\t\t"+t._s(t.player_name)+"\n\t\t\t\t")])]),s("button",{ref:"btnPlayer",staticClass:"button icon shadow colour-bg-pop border-round border-white",staticStyle:{width:"2.8rem",height:"2.6rem",overflow:"hidden"},on:{click:t.clicked}},[s("svg",{staticClass:"colour-fill-dark",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{height:"100%",viewBox:"0 0 200 200",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{attrs:{d:"M4.436,172.579l62.363,-23.596l-15.606,-20.474l-11.002,-28.915l13.389,-56.973l36.424,-14.683l48.755,11.309l15.538,37.685l-6.367,48.426l-13.447,23.031l56.502,21.922l9.015,29.689l-200,0l4.436,-27.421Z"}})])]),s("div",{staticClass:"player-score"},[s("p",{staticClass:"poster colour-fill-pop text-right"},[t._v("\n\t\t\t\t"+t._s(t.player_Score)+"\n\t\t\t")])])])},A=[],G={name:"cPlayer",data:function(){return{attrs:{},state:{display:!1}}},computed:{player_name:function(){return this.$store.getters["player/get_name"]},player_Score:function(){return this.$store.getters["player/get_score"]}},methods:{clicked:function(){this.$root.$emit("player-show")},trigger:function(){this.state.display=!0;var t=this;setTimeout(function(){t.state.display=!1},2e3)},exit:function(){this.$root.$off("player-closed",this.trigger)}},mounted:function(){this.$root.$on("player-closed",this.trigger)},beforeDestroy:function(){this.exit()},components:{"c-button":o["a"]}},L=G,H=(s("2f9c"),Object(f["a"])(L,U,A,!1,null,"2be2bde1",null)),K=H.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"players-holder"},[s("transition-group",{attrs:{name:"player-dots"}},t._l(t.players,function(e,i){return s("c-player-dot",{key:e.url,attrs:{isPlayer:t.check_isPlayer(e),player:e}})}),1)],1)},W=[],q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hover-trigger player colour-fill-pop"},[s("div",{staticClass:"diamond",class:{"colour-bg-pop":t.isPlayer}}),s("div",{staticClass:"anim-6 title hover-message colour-bg-pop"},[s("p",{staticClass:"text-bold colour-fill-dark"},[t._v("\n\t\t\t\t"+t._s(t.player.data.name)+"\n\t\t\t")])])])},F=[],Y={name:"cPlayerDot",data:function(){return{}},props:{player:Object,isPlayer:Boolean},computed:{name_short:function(){var t=this.player.data.name.substring(0,2);return t}},methods:{},mounted:function(){},components:{}},Z=Y,z=(s("6060"),Object(f["a"])(Z,q,F,!1,null,null,null)),V=z.exports,Q={name:"cPlayers",data:function(){return{attrs:{}}},computed:{player_url:function(){return this.$store.getters["player/get_url"]},players:function(){return this.$store.getters["instance/get_players"]}},methods:{check_isPlayer:function(t){return this.player_url===t.url}},mounted:function(){},beforeDestroy:function(){},components:{"c-player-dot":V}},X=Q,tt=(s("abe4"),s("8b44"),Object(f["a"])(X,M,W,!1,null,"d836df70",null)),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.state.remove?t._e():s("c-popup",{attrs:{onShow:t.state.display,onClick:t.window_click}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("h1",{staticClass:"text-bold colour-fill-dark"},[t._v("\n\t\t\t\t"+t._s(t.get_name)+"\n\t\t\t")])]),s("div",{ref:"field_name",staticClass:"field-result"},[s("div",{staticClass:"field"},[s("p",{staticClass:"label colour-fill-dark"},[t._v("\n\t\t\t\t\tName\n\t\t\t\t")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"input text colour-fill-dark",attrs:{type:"string",placeholder:"Your name",value:"form.name",required:""},domProps:{value:t.form.name},on:{change:t.validate,input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),s("c-field-result")],1)]),s("c-button-row",[s("template",{slot:"label"},[t._v(" Info ")]),s("p",{staticClass:"text text-bold text-center"},[t._v("\n\t\t\t\t\tPlayers ("+t._s(t.get_players.length)+"):\n\t\t\t")]),s("div",{staticClass:"br-small"}),t.get_players.length?s("div",t._l(t.get_players,function(e,i){return s("span",{key:e.url,staticClass:"text colour-fill-bg"},[t._v("\n\t\t\t\t\t\t"+t._s(e.data.name)+", \n\t\t\t\t")])}),0):t._e(),s("hr"),s("div",{staticClass:"buttons"},[s("c-button",{ref:"btnBoard",attrs:{onClick:t.go_to_Board}},[t._v("\n\t\t\t\t\tBoard\n\t\t\t\t")]),s("span",{staticClass:"text colour-fill-dark button-helper"},[t._v(" View Board. ")])],1)],2),s("c-message",{ref:"msgObj"}),s("c-button",{ref:"btnOK",staticClass:"button-action",attrs:{slot:"footer",onClick:t.name_updated},slot:"footer"},[t._v("\n\t\t\t"+t._s(t.button.label)+"\n\t")])],1)},it=[],nt=s("2f37"),at=s("f070"),ot=s("e82d"),rt=s("f979"),lt=s("5c50"),ct={name:"cPlayerWindow",data:function(){return{attrs:{name:{min:3,max:33}},state:{remove:!0,display:!1,lock:!1},button:{label:""},form:{name:""}}},computed:{get_name:function(){return this.$store.getters["board/get_board"].data.name||"Name"},get_players:function(){return this.$store.getters["instance/get_players"]}},methods:{go_to_Board:function(){var t=this.$store.getters["board/get_board"].url;this.$router.push("/board/"+t)},validate:function(){var t=rt["a"].length(this.$refs.field_name,this.form.name,this.$refs.msgObj,this.attrs.name.min,this.attrs.name.max);return t},name_updated:function(){var t=this.validate();if(null!==t){if(t){var e=this.$store.getters["player/get_player"],s=this.$store.getters["game/get_game"],i=e.data.name!==this.form.name;if(i||!s.joined){if(i&&s.joined)return this.$root.$emit("player-update",this.form.name),void this.$refs.btnOK.$emit("state","waiting");e.data.name=this.form.name,this.$store.dispatch("player/set_player",e),this.$refs.btnOK.$emit("state","waiting"),this.$root.$emit("player-check")}else this.window_hide()}}else rt["a"].length(this.$refs.field_name,"x",this.$refs.msgObj,this.attrs.name.min,this.attrs.name.max)},button_success:function(){this.$refs.btnOK.$emit("state","success")},message:function(t){this.$refs.msgObj.$emit("message",t)},window_show:function(){this.$root.$on("player-message",this.message),this.$root.$on("player-success",this.button_success),this.$root.$on("player-hide",this.window_hide);var t=this.$store.getters["player/get_player"];this.form.name=t.data.name;var e=this.$store.getters["game/get_game"];if(rt["a"].reset(this.$refs.field_name),e.joined){this.button.label="Update",this.state.lock=!1;var s=this;setTimeout(function(){s.$root.$emit("page-title","UPDATE")},500)}else{this.button.label="Join",this.state.lock=!0;var i=this;setTimeout(function(){i.$root.$emit("page-title","JOIN")},500)}this.state.remove=!1,this.state.display=!0},window_click:function(){this.state.lock||this.window_hide()},window_hide:function(){var t=this.$store.getters["game/get_game"];if(t.joined&&(this.state.lock=!1),this.state.lock){var e=this.validate();if(null===e||!e)return}else{this.state.display=!1,this.$root.$off("player-success",this.button_success),this.$root.$off("player-message",this.message),this.$root.$off("player-hide",this.window_hide);var s=this;setTimeout(function(){s.$root.$emit("page-title","")},500),setTimeout(function(){s.state.remove=!0,s.$root.$emit("player-closed")},1e3)}},exit:function(){this.$root.$off("player-show",this.window_show)}},mounted:function(){this.$root.$on("player-show",this.window_show)},beforeDestroy:function(){this.exit()},components:{"c-button":o["a"],"c-button-row":nt["a"],"c-popup":at["a"],"c-message":ot["a"],"c-field-result":lt["a"]}},ut=ct,ht=Object(f["a"])(ut,st,it,!1,null,null,null),dt=ht.exports,mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div")},ft=[],pt={name:"cUpdateInstance",mixins:[h["a"]],data:function(){return{attrs:{server:{max_timeouts:5,timing:1e3},action:Object},state:{timeouts:0,init:!1}}},methods:{setup:function(){var t=this.$store.getters["instance/get_action"],e={url:t.url,method:t.method,JSON:t.JSON};this.attrs.action=e,this.state.init=!0,this.attrs.action.method="PUT",this.attrs.action.JSON=!0},update_line:function(t,e){this.state.init||this.setup(),this.$store.dispatch("game/submit_line",t),t.selected?e.player.line={remove:t.line}:e.player.line={add:t.line},this.attrs.action.method="PUT",this.attrs.action.body=e,this.attrs.action.body.player.url=this.$store.getters["player/get_url"];var s=this;s.onSubmit(s.attrs.action,s,null,null,s.update_success,s.update_error)},update_player:function(t){this.state.init||this.setup();var e=this.$store.getters["game/get_game"],s=this.$store.getters["player/get_player"];e.joined&&""!==s.url&&(this.attrs.action.body={player:{url:s.url,name:{update:t}}}),this.attrs.action.method="PUT";var i=this;i.onSubmit(i.attrs.action,i,null,null,i.update_success,i.update_error)},update_success:function(t){if(j.game(t,this),void 0!==t.data.line&&(void 0!==t.data.line.add&&this.$store.dispatch("game/add_line",t.data.line.add),void 0!==t.data.line.remove&&this.$store.dispatch("game/remove_line",t.data.line.remove),void 0!==t.data.data.score)){var e={data:{score:t.data.data.score}};this.$store.dispatch("player/set_player",e)}if(void 0!==t.data.name){var s=this.$store.getters["player/get_player"];s.data.name=t.data.name.update,this.$store.dispatch("player/set_player",s);var i={class:"text success colour-fill-bg",message:t.message};this.$root.$emit("player-message",i),this.$root.$emit("player-success");var n=this;setTimeout(function(){n.$root.$emit("player-hide")},2e3)}},update_error:function(t){j.game(t,this);var e={class:"text error colour-fill-bg",message:t.message};this.$root.$emit("player-message",e)},game_reset:function(){this.state.init=!1},exit:function(){this.$root.$off("player-line",this.update_line),this.$root.$off("player-update",this.update_player),this.$root.$off("game-pre-reset",this.game_reset)}},mounted:function(){this.$root.$on("player-line",this.update_line),this.$root.$on("player-update",this.update_player),this.$root.$on("game-pre-reset",this.game_reset)},beforeDestroy:function(){this.exit()}},gt=pt,_t=Object(f["a"])(gt,mt,ft,!1,null,null,null),$t=_t.exports,vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"wrds_holder",staticClass:"lines-holder anim-6",class:{"lines-lock":!t.is_ready,"lines-ready":t.is_ready}},[s("div",{ref:"wrds_holder_inner",staticClass:"text-left",class:t.is_even},[s("transition-group",{attrs:{name:"anim-line",tag:""}},t._l(t.lines_list,function(e,i){return s("c-line",{key:e.id,class:{"is-last-full-line":t.is_last_full_line(i)},style:t.get_style_task(i),attrs:{input:e}})}),1)],1)])},bt=[],yt=(s("55dd"),s("f386"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-button",{ref:"btn_line",staticClass:"line-button colour-bg-pop",class:{"line-selected button-action":t.selected,"":t.waiting,"is-full-line":t.input.is_large,"is-half-line":!t.input.is_large},attrs:{onClick:t.toggle}},[t._v("\n\n\t\t"+t._s(t.input.line)+"\n\n")])}),wt=[],xt={name:"cLine",data:function(){return{state:{init:!1}}},props:{input:Object},computed:{waiting:function(){return!!this.input.waiting&&(this.state.init&&this.$refs.btn_line.$emit("state","waiting"),!0)},selected:function(){return!!this.input.selected&&(this.state.init&&this.$refs.btn_line.$emit("state","success"),!0)}},methods:{reset:function(){var t=this;setTimeout(function(){t.state.init=!0,void 0!==t.$refs.btn_line&&t.$refs.btn_line.$emit("state","reset")},1)},toggle:function(){var t={player:{url:"",line:{}}};this.input.selected?t.player.line={remove:this.input.line}:t.player.line={add:this.input.line},this.$root.$emit("player-line",this.input,t)},exit:function(){this.$root.$off("player-lines-reset",this.reset)}},mounted:function(){this.reset(),this.$root.$on("player-lines-reset",this.reset)},beforeDestroy:function(){this.exit()},components:{"c-button":o["a"]}},kt=xt,Ct=(s("5a43"),Object(f["a"])(kt,yt,wt,!1,null,null,null)),jt=Ct.exports,St=function(t){for(var e=[],s=0;s<t.length;s++)e.push(t[s]);for(var i=e.length-1;i>=0;i--){var n=Math.floor(Math.random()*(i+1)),a=e[i];e[i]=e[n],e[n]=a}return e},Ot=function(t){var e=0;if(0==t.length)return e;for(var s=0;s<t.length;s++){var i=t.charCodeAt(s);e=(e<<5)-e+i,e&=e}return e},Tt={name:"cLines",data:function(){return{timing:{delay_render:1.66,delay_each_item:250},lines:{small:0},rendered:!1}},computed:{lines_list:function(){return this.$store.getters["game/get_lines"]},is_ready:function(){var t=this.$store.getters["game/get_game"];return"playing"===t.mode},is_even:function(){return this.lines.small%2===0?"is-even":"is-odd"}},methods:{setup:function(){var t=[];this.lines.small=0;for(var e=this.$store.getters["instance/get_instance"].data.game.display,s=St(this.$store.getters["board/get_lines"]),i=0;i<e;i++){var n=s[i].length>40,a={line:s[i],waiting:!1,selected:!1,id:Ot(s[i]),is_large:n};n&&(this.lines.small+=1),t.push(a)}t.sort(function(t,e){return e.line.length-t.line.length});var o=this;function r(t,s){setTimeout(function(){for(var i=[],n=0;n<t;n++)i.push(s[n]);o.$store.dispatch("game/set_lines",i),i.length===e&&o.$store.dispatch("game/set_game",{})},t*o.timing.delay_each_item)}var l=o.timing.delay_render;this.rendered?this.$store.dispatch("game/set_lines",[]):(l=0,this.rendered=!0),setTimeout(function(){for(var e=0;e<=t.length;e++)r(e,t)},1e3*l)},is_last_full_line:function(t){return!!this.lines_list[t].is_large&&(t===this.lines_list.length-1||(t<this.lines_list.length&&!this.lines_list[t+1].is_large||void 0))},get_style_task:function(t){var e=this.lines_list.length-t;return{"--i":t+1,"--inv-i":e-1}},exit:function(){this.$store.dispatch("game/set_lines",[]),this.$root.$off("player-lines-reset",this.setup)}},mounted:function(){this.$root.$on("player-lines-reset",this.setup)},beforeDestroy:function(){this.exit()},components:{"c-line":jt}},Et=Tt,Pt=(s("25fd"),Object(f["a"])(Et,vt,bt,!1,null,null,null)),Rt=Pt.exports,Dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.state.remove?t._e():s("c-popup",{attrs:{onShow:t.state.display,extraClass:t.attrs.extraClass,onClick:t.window_game_click}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("h1",{staticClass:"text-bold colour-fill-dark"},[t._v("\n\t\t\t\t\t"+t._s(t.get_name)+"\n\t\t\t\t")])]),s("div",[s("p",{staticClass:"header"},[t._v("\n\t\t\t\t\t"+t._s(t.state.message)+" \n\t\t\t\t")]),t.state.type.kicked?s("c-button",{ref:"btnRejoin",attrs:{onClick:t.button_rejoin}},[t._v("\n\t\t\t\t\t\tRejoin\n\t\t\t\t")]):t._e()],1),s("p",{staticClass:"text"},[t._v("\n\t\t\t( "+t._s(t.state.time)+" )\n\t\t")]),s("c-message",{ref:"msgObj"}),s("c-button",{ref:"btnHome",staticClass:"button-action",attrs:{slot:"footer",onClick:t.button_home},slot:"footer"},[t._v("\n\t\t\t\tHome\n\t\t")])],1)},Nt=[],Bt=null,It={name:"cGameWindow",mixins:[h["a"]],data:function(){return{attrs:{extraClass:"bullshit-menu",time:30},state:{remove:!0,display:!1,lock:!1,class:"",type:{lost:!1,won:!1,kicked:!1},message:"",time:30}}},computed:{get_field_class:function(){return this.state.class},get_name:function(){return this.$store.getters["board/get_board"].data.name||"Name"}},methods:{message:function(t){this.$refs.msgObj.$emit("message",t)},type_reset:function(){this.state.type.won=!1,this.state.type.lost=!1,this.state.type.kicked=!1,this.state.time=this.attrs.time},game_won:function(){this.state.display||(this.state.type.won=!0,this.state.message="You are the Winner!",this.state.lock=!0,this.window_game_show())},game_lost:function(){if(!this.state.display){this.state.type.lost=!0;var t=this.$store.getters["game/get_winner"];this.state.message=t.data.name+" is the Winner!",this.state.lock=!0,this.window_game_show()}},game_kicked:function(){this.state.display||(this.state.type.kicked=!0,this.state.message="You have been removed!",this.state.lock=!0,this.window_game_show())},button_rejoin:function(){this.time_off(),this.$refs.btnRejoin.$emit("state","waiting"),this.$root.$emit("player-rejoin")},button_home:function(){this.time_off(),this.$refs.btnHome.$emit("state","waiting");var t=this;setTimeout(function(){t.window_game_hide(),t.$router.push("/")},1500)},button_new:function(){this.time_off(),this.$refs.btnNew.$emit("state","waiting");var t=this.$store.getters["board/get_board"].url,e={url:"/api/instance/"+t+"/create",method:"GET",body:""};this.$root.$emit("player-remove");var s=this;this.onSubmit(e,s,this.$refs.btnNew,null,s.onSuccess,s.onError)},onSuccess:function(t){var e=this;e.window_game_hide(),setTimeout(function(){e.$store.dispatch("board/exit"),e.$store.dispatch("instance/exit"),e.$store.dispatch("player/exit"),e.$store.dispatch("game/exit"),e.$router.push("/instance/"+t.data.url),e.$root.$emit("game-pre-reset")},1500)},onError:function(t){},time_start:function(){this.time_repeat()},time_repeat:function(){var t=this;Bt=setTimeout(function(){t.time_tick()},1e3)},time_tick:function(){this.state.time-=1,this.state.time<1?this.button_home():this.time_repeat()},time_off:function(){clearTimeout(Bt)},window_game_show:function(){this.state.remove=!1,this.state.display=!0,this.$root.$on("player-message",this.message),this.$root.$on("player-hide",this.window_game_hide),this.time_start()},window_game_click:function(){this.state.lock||this.window_game_hide()},window_game_hide:function(){this.state.display=!1,this.time_off();var t=this;setTimeout(function(){t.type_reset(),t.state.remove=!0,t.$root.$off("player-message",this.message),t.$root.$off("player-hide",this.window_game_hide)},1e3)},exit:function(){this.$root.$off("game-won",this.game_won),this.$root.$off("game-lost",this.game_lost),this.$root.$off("game-kicked",this.game_kicked),this.time_off()}},mounted:function(){this.$root.$on("game-won",this.game_won),this.$root.$on("game-lost",this.game_lost),this.$root.$on("game-kicked",this.game_kicked)},beforeDestroy:function(){this.exit()},components:{"c-button":o["a"],"c-popup":at["a"],"c-message":ot["a"]}},Jt=It,Ut=Object(f["a"])(Jt,Dt,Nt,!1,null,null,null),At=Ut.exports,Gt={name:"BoardGame",data:function(){return{attrs:{},share:{link:""}}},computed:{board_name:function(){return this.$store.getters["board/get_board"].data.name},game_state:function(){return this.$store.getters["game/get_game"]},game_ready:function(){var t=this.$store.getters["game/get_game"].mode;return"playing"===t}},methods:{init:function(){this.$root.$on("reset-success",this.reset_success),this.$root.$on("reset-fail",this.reset_fail),this.board=this.$route.params.board,this.game_share_link()},reset:function(){this.$root.$emit("player-reset"),this.$root.$emit("player-lines-reset"),void 0!==this.$refs.btnReset&&this.$refs.btnReset.$emit("state","waiting")},reset_success:function(){void 0!==this.$refs.btnReset&&this.$refs.btnReset.$emit("state","message","Ready")},reset_fail:function(){void 0!==this.$refs.btnReset&&this.$refs.btnReset.$emit("state","message","Error")},game_share_link:function(){this.share.link=window.location.href},exit:function(){this.$root.$off("reset-success",this.reset_success),this.$root.$off("reset-fail",this.reset_fail)}},mounted:function(){this.init()},beforeDestroy:function(){this.exit()},components:{"c-panel":a["a"],"c-button":o["a"],"c-button-share":r["a"],"c-button-expand":l["a"],"c-game-lines":Rt,"c-init-board":g,"c-init-instance":P,"c-init-player":J,"c-player":K,"c-players":et,"c-window-player":dt,"c-window-game":At,"c-update-instance":$t}},Lt=Gt,Ht=(s("42c6"),Object(f["a"])(Lt,i,n,!1,null,null,null));e["default"]=Ht.exports},cef0:function(t,e,s){"use strict";var i=s("3927"),n=s.n(i);n.a},d652:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"btnHolder",staticClass:"button-expander",attrs:{"data-open":t.display}},[s("c-button",{ref:"btn",attrs:{onClick:t.onClickExpand}},[t._t("default",[t._v(" \n\t\t\t \tLabel here\n\t\t\t")])],2),s("div",{staticClass:"content anim-6 field"},[t._t("content",[t._v("\n\t\t\tContent here\n\t\t")]),s("div",{staticClass:"button-expand-submit anim-3"},[s("c-button",{ref:"btn",staticClass:"label",staticStyle:{"min-width":"unset",margin:"0",padding:"0 1rem"},attrs:{onClick:t.onClickConfirm}},[t._t("button",[t._v("\n\t\t\t\t\t\tSubmit\n\t\t\t\t\t")])],2)],1)],2)],1)},n=[],a=s("b99b"),o={name:"cButtonExpand",data:function(){return{display:!1}},props:{buttonShow:Boolean,buttonClick:Function,buttonClickClose:Boolean},methods:{onClickExpand:function(){this.display=!this.display},onClickConfirm:function(){if(void 0!==this.buttonClick&&this.buttonClick(),this.buttonClickClose){var t=this;setTimeout(function(){t.display=!1},500)}},emit:function(t,e){this.$refs.btn.$emit("state",t,e)}},mounted:function(){this.$on("state",this.emit)},components:{"c-button":a["a"]}},r=o,l=(s("cef0"),s("2877")),c=Object(l["a"])(r,i,n,!1,null,null,null);e["a"]=c.exports},e216:function(t,e,s){"use strict";var i=s("e875"),n=s.n(i);n.a},e67e:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{"hover-trigger hover-force":t.state.display}},[s("div",{staticClass:"anim-6 title hover-message-left"},[s("div",{staticClass:"text-bold colour-bg-dark colour-fill-pop border-round border-dark copy anim-10",staticStyle:{padding:".5rem 1rem","z-index":"1"},attrs:{"data-copied":t.state.copied}},[t._v("\n\t\t\t\t\t\t\t( copied )\n\t\t\t\t\t")]),s("input",{ref:"txtCopy",staticClass:"text colour-fill-dark border-round colour-bg-notice",staticStyle:{padding:".5rem 1rem"},attrs:{type:"string",name:""},domProps:{value:t.content}})]),s("button",{staticClass:"button icon shadow colour-bg-dark border-round",staticStyle:{width:"2.6rem",height:"2.6rem",overflow:"hidden",border:"2px solid white"},on:{click:t.clicked}},[s("svg",{staticClass:"colour-fill-pop",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{height:"100%",viewBox:"-20 -20 240 240",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{attrs:{d:"M121.666,45.63c-0.969,-2.964 -1.492,-6.119 -1.492,-9.39c0,-17.242 14.524,-31.24 32.413,-31.24c17.889,0 32.413,13.998 32.413,31.24c0,17.242 -14.524,31.24 -32.413,31.24c-8.567,0 -16.363,-3.211 -22.161,-8.45l-52.092,31.58c0.969,2.964 1.492,6.119 1.492,9.39c0,3.271 -0.523,6.426 -1.492,9.39l52.092,31.58c5.798,-5.239 13.594,-8.45 22.161,-8.45c17.889,0 32.413,13.998 32.413,31.24c0,17.242 -14.524,31.24 -32.413,31.24c-17.889,0 -32.413,-13.998 -32.413,-31.24c0,-3.271 0.523,-6.426 1.492,-9.39l-52.092,-31.58c-5.798,5.239 -13.594,8.45 -22.161,8.45c-17.889,0 -32.413,-13.998 -32.413,-31.24c0,-17.242 14.524,-31.24 32.413,-31.24c8.567,0 16.363,3.211 22.161,8.45l52.092,-31.58Z"}})])])])},n=[],a=(s("4917"),{name:"cButtonShare",data:function(){return{state:{display:!1,copied:!1}}},props:{content:String},methods:{reset:function(){this.state.display=!1,this.state.copied=!1},clicked:function(){if(!this.state.display){this.state.display=!0;var t=this;setTimeout(function(){t.onCopy(t.$refs.txtCopy)},750),setTimeout(function(){t.state.copied=!0},1330),setTimeout(function(){t.reset()},2500)}},onCopy:function(t){if(t="string"===typeof t?document.querySelector(t):t,navigator.userAgent.match(/ipad|ipod|iphone/i)){var e=t.contentEditable,s=t.readOnly;t.contentEditable=!0,t.readOnly=!0;var i=document.createRange();i.selectNodeContents(t);var n=window.getSelection();n.removeAllRanges(),n.addRange(i),t.setSelectionRange(0,999999),t.contentEditable=e,t.readOnly=s}else t.select();document.execCommand("copy")}},mounted:function(){this.reset()},beforeDestroy:function(){},components:{}}),o=a,r=(s("e216"),s("2877")),l=Object(r["a"])(o,i,n,!1,null,null,null);e["a"]=l.exports},e875:function(t,e,s){},f386:function(t,e,s){"use strict";s("386b")("small",function(t){return function(){return t(this,"small","","")}})},fff1:function(t,e,s){}}]);
//# sourceMappingURL=chunk-e36bb31c.cbb65396.js.map